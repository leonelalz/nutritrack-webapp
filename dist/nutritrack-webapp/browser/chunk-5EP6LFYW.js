import{a as u}from"./chunk-Q53AFBXZ.js";import{Kc as p,Lc as R,Q as n,T as o,X as b,ma as l}from"./chunk-D6HZ3QFW.js";var m=class r{constructor(e){this.http=e}baseUrl=`${u.apiUrl}/planes`;_planes=l([]);_planActual=l(null);_totalElements=l(0);planes=this._planes.asReadonly();planActual=this._planActual.asReadonly();totalElements=this._totalElements.asReadonly();obtenerPlanes(e=0,s=20){let a=new p().set("page",e.toString()).set("size",s.toString());return this.http.get(this.baseUrl,{params:a}).pipe(n(t=>{t.success&&t.data&&(this._planes.set(t.data.content||[]),this._totalElements.set(t.data.totalElements||0))}))}obtenerPlanesActivos(e=0,s=20){let a=new p().set("page",e.toString()).set("size",s.toString());return this.http.get(`${this.baseUrl}/activos`,{params:a}).pipe(n(t=>{t.success&&t.data&&(this._planes.set(t.data.content||[]),this._totalElements.set(t.data.totalElements||0))}))}buscarPlanes(e,s=0,a=20){let t=new p().set("nombre",e).set("page",s.toString()).set("size",a.toString());return this.http.get(`${this.baseUrl}/buscar`,{params:t}).pipe(n(i=>{i.success&&i.data&&(this._planes.set(i.data.content||[]),this._totalElements.set(i.data.totalElements||0))}))}obtenerPlanPorId(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(n(s=>{s.success&&s.data&&this._planActual.set(s.data)}))}crearPlan(e){return this.http.post(this.baseUrl,e)}actualizarPlan(e,s){return this.http.put(`${this.baseUrl}/${e}`,s)}eliminarPlan(e){return this.http.delete(`${this.baseUrl}/${e}`)}activarPlan(e){return this.http.patch(`${this.baseUrl}/${e}/reactivar`,{})}desactivarPlan(e){return this.http.delete(`${this.baseUrl}/${e}`)}agregarDiaAlPlan(e,s){return this.http.post(`${this.baseUrl}/${e}/dias`,s)}obtenerDiasPlan(e){return this.http.get(`${this.baseUrl}/${e}/dias`)}obtenerDiaEspecifico(e,s){return this.http.get(`${this.baseUrl}/${e}/dias/${s}`)}eliminarDiaDelPlan(e,s){return this.http.delete(`${this.baseUrl}/${e}/dias/${s}`)}limpiarEstado(){this._planes.set([]),this._planActual.set(null),this._totalElements.set(0)}static \u0275fac=function(s){return new(s||r)(b(R))};static \u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})};export{m as a};
