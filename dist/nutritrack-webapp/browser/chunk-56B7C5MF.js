import{a as l}from"./chunk-6ULEJF3H.js";import{Qc as o,R as a,Rc as c,U as u,Y as R,na as r}from"./chunk-N5FZ7NRP.js";var b=class p{constructor(e){this.http=e}baseUrl=`${l.apiUrl}/rutinas`;_rutinas=r([]);_rutinaActual=r(null);_totalElements=r(0);rutinas=this._rutinas.asReadonly();rutinaActual=this._rutinaActual.asReadonly();totalElements=this._totalElements.asReadonly();obtenerRutinas(e=0,t=20){let i=new o().set("page",e.toString()).set("size",t.toString());return this.http.get(this.baseUrl,{params:i}).pipe(a(s=>{s.success&&s.data&&(this._rutinas.set(s.data.content||[]),this._totalElements.set(s.data.totalElements||0))}))}obtenerRutinasActivas(e=0,t=20){let i=new o().set("page",e.toString()).set("size",t.toString());return this.http.get(`${this.baseUrl}/activas`,{params:i}).pipe(a(s=>{s.success&&s.data&&(this._rutinas.set(s.data.content||[]),this._totalElements.set(s.data.totalElements||0))}))}buscarRutinas(e,t=0,i=20){let s=new o().set("nombre",e).set("page",t.toString()).set("size",i.toString());return this.http.get(`${this.baseUrl}/buscar`,{params:s}).pipe(a(n=>{n.success&&n.data&&(this._rutinas.set(n.data.content||[]),this._totalElements.set(n.data.totalElements||0))}))}obtenerRutinaPorId(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(a(t=>{t.success&&t.data&&this._rutinaActual.set(t.data)}))}crearRutina(e){return this.http.post(this.baseUrl,e)}actualizarRutina(e,t){return this.http.put(`${this.baseUrl}/${e}`,t)}desactivarRutina(e){return this.http.delete(`${this.baseUrl}/${e}`)}activarRutina(e){return this.http.patch(`${this.baseUrl}/${e}/reactivar`,{})}agregarEjercicio(e,t){return this.http.post(`${this.baseUrl}/${e}/ejercicios`,t)}obtenerEjerciciosRutina(e){return this.http.get(`${this.baseUrl}/${e}/ejercicios`)}actualizarEjercicio(e,t,i){return this.http.put(`${this.baseUrl}/${e}/ejercicios/${t}`,i)}eliminarEjercicio(e,t){return this.http.delete(`${this.baseUrl}/${e}/ejercicios/${t}`)}eliminarTodosEjercicios(e){return this.http.delete(`${this.baseUrl}/${e}/ejercicios`)}reemplazarEjercicios(e,t){return this.http.put(`${this.baseUrl}/${e}/ejercicios/batch`,t)}limpiarEstado(){this._rutinas.set([]),this._rutinaActual.set(null),this._totalElements.set(0)}static \u0275fac=function(t){return new(t||p)(R(c))};static \u0275prov=u({token:p,factory:p.\u0275fac,providedIn:"root"})};export{b as a};
