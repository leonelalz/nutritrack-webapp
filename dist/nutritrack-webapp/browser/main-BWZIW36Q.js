import"./chunk-NC5QR3MB.js";import{k as pe,l as ge,q as ue,t as fe,u as ve,v as he}from"./chunk-4WQ3J2NC.js";import{a as be}from"./chunk-SMVVNKRT.js";import{a as me}from"./chunk-ZEIE5CFB.js";import{a as f}from"./chunk-GTAS47PG.js";import"./chunk-6LZ2YNEV.js";import{a as re,c as ce,e as E,f as w,g as k,h as F,i as de}from"./chunk-7Q5XKRGT.js";import{$ as A,$a as V,Fc as se,Gc as le,Ka as s,Kb as O,Lb as ne,Mb as r,Nb as M,Ob as D,Va as u,Vb as ie,W as m,Yb as oe,Za as Y,_b as z,aa as N,ba as d,ca as h,ia as X,ib as C,jb as x,k as J,ka as b,lb as ee,mb as te,nb as W,ob as n,pb as a,qb as l,rb as p,sb as g,tb as P,ub as I,uc as ae,v as K,w as Q,wb as y,xb as R,xc as _,yb as S}from"./chunk-FVUT7SF7.js";import"./chunk-2VMXMS7J.js";var Ce=(e,i)=>{let t=m(f),o=m(w);return t.isAuthenticated()&&t.isAdmin()?!0:(o.navigate(["/"]),!1)};var H=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-landing-layout"]],decls:15,vars:0,consts:[[1,"landing-layout"],[1,"landing-header"],[1,"header-content"],["routerLink","/",1,"logo"],[1,"logo-icon"],[1,"logo-text"],[1,"logo-highlight"],[1,"landing-main"],[1,"landing-footer"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3)(4,"span",4),r(5,"\u{1F957}"),a(),n(6,"span",5),r(7,"Nutri"),n(8,"span",6),r(9,"Track"),a()()()()(),n(10,"main",7),l(11,"router-outlet"),a(),n(12,"footer",8)(13,"p"),r(14,"\xA9 2025 Nutritrack App. Todos los derechos reservados por el equipo de nutritrack."),a()()())},dependencies:[_,E,k],styles:["[_nghost-%COMP%]{--color-primary: #16a34a;--color-secondary: #64748B;--color-light: #F5F5F5;--color-white: #FFFFFF}.landing-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background:var(--color-light)}.landing-header[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 2px 4px #0000001a;padding:1rem 2rem}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;text-decoration:none;font-size:1.5rem;font-weight:700}.logo-icon[_ngcontent-%COMP%]{font-size:2rem}.logo-text[_ngcontent-%COMP%]{color:var(--color-primary)}.logo-highlight[_ngcontent-%COMP%]{color:var(--color-secondary)}.landing-main[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(148deg,#667eea,#764ba2)}.landing-footer[_ngcontent-%COMP%]{background:var(--color-primary);padding:1.5rem;text-align:center;color:var(--color-white)}.landing-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.8}"]})};var G={"/dashboard":{title:"\xA1Hola!",subtitle:"Aqu\xED tienes tu resumen completo de salud y bienestar",showName:!0},"/usuario/perfil":{title:"Tu Perfil",subtitle:"Revisa tu informaci\xF3n personal"},"/usuario/historial":{title:"Historial de Medidas",subtitle:"Controla tu progreso f\xEDsico"},"/reports":{title:"Reportes",subtitle:"Visualiza estad\xEDsticas avanzadas"},"/admin/etiquetas":{title:"Gesti\xF3n de etiquetas",subtitle:"Administra las etiquetas para clasificar ingredientes, ejercicios y comidas"},"/admin/ingredientes":{title:"Gesti\xF3n de Ingredientes",subtitle:"Administraci\xF3n de ingredientes con informaci\xF3n nutricional completa"},"/admin/comidas":{title:"Gesti\xF3n de Comidas y Recetas",subtitle:"Administraci\xF3n completa de comidas con ingredientes y recetas"}};function Se(e,i){if(e&1&&(p(0,"span"),r(1),g()),e&2){let t,o=S();s(),M((t=o.authService.currentUser())==null?null:t.nombre)}}function Oe(e,i){e&1&&(p(0,"div",9),r(1,"Admin"),g())}var j=class e{authService=m(f);router=m(w);currentTitle=b("");currentSubtitle=b("");showName=b(!1);isAdmin=z(()=>this.authService.currentUser()?.role==="ROLE_ADMIN");ngOnInit(){this.actualizarMensajes(this.router.url),this.router.events.pipe(K(i=>i instanceof ce)).subscribe(i=>{let t=i.urlAfterRedirects??i.url;this.actualizarMensajes(t)})}actualizarMensajes(i){let t=i.split("?")[0];console.log("Navbar URL:",i),console.log("Navbar PATH:",t),console.log("ROUTE_MESSAGES keys:",Object.keys(G)),console.log("Mensaje para path:",G[t]);let o=G[t];o?(this.currentTitle.set(o.title??""),this.currentSubtitle.set(o.subtitle??""),this.showName.set(!!o.showName)):(this.currentTitle.set(""),this.currentSubtitle.set(""),this.showName.set(!1))}logout(){this.authService.logout()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-navbar"]],decls:19,vars:6,consts:[[1,"navbar"],[1,"navbar-user"],[1,"welcome-card"],[1,"welcome-content"],[1,"welcome-actions"],[1,"user-profile"],[1,"avatar"],[1,"user-info"],[1,"user-name"],[1,"user-plan"],[1,"btn-logout",3,"click"]],template:function(t,o){if(t&1&&(p(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),r(5),C(6,Se,2,1,"span"),g(),p(7,"p"),r(8),g()(),p(9,"div",4)(10,"div",5)(11,"div",6),r(12),g(),p(13,"div",7)(14,"div",8),r(15),g(),C(16,Oe,2,0,"div",9),g()(),p(17,"button",10),R("click",function(){return o.logout()}),r(18," Cerrar Sesi\xF3n "),g()()()()()),t&2){let c,v;s(5),D(" ",o.currentTitle()," "),s(),x(o.showName()?6:-1),s(2),M(o.currentSubtitle()),s(4),D(" ",(c=o.authService.currentUser())==null||c.nombre==null?null:c.nombre.charAt(0)," "),s(3),D(" ",(v=o.authService.currentUser())==null?null:v.nombre," "),s(),x(o.isAdmin()?16:-1)}},dependencies:[_],styles:[".navbar[_ngcontent-%COMP%]{margin-top:30px;right:0;display:flex;align-items:center;justify-content:space-between;color:#fff;padding:0 30px;position:fixed;width:calc(100% - var(--sidebar-width))}.navbar-user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;width:100%}.welcome-card[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:16px;padding:25px 30px;box-shadow:0 2px 4px #0000000a;justify-content:space-between;display:flex;align-items:center}.welcome-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:32px;font-weight:700;margin:0 0 5px}.welcome-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.welcome-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;background:linear-gradient(135deg,#28a745,#20c997);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px;font-weight:700}.user-name[_ngcontent-%COMP%]{color:#333;font-size:14px;font-weight:700}.user-plan[_ngcontent-%COMP%]{color:#6c757d;font-size:12px}.btn-logout[_ngcontent-%COMP%]{background:#0003;border:1px solid white;padding:.5rem 1rem;border-radius:4px;cursor:pointer;transition:all .3s;font-weight:500}.btn-logout[_ngcontent-%COMP%]:hover{background:#fff;color:#f5576c}"]})};function ye(e,i){e&1&&(d(),l(0,"polyline",3))}function Pe(e,i){e&1&&(d(),l(0,"polyline",4))}function Ee(e,i){e&1&&(n(0,"div",11)(1,"div",13),r(2,"Administraci\xF3n"),a(),n(3,"a",19),d(),n(4,"svg",15),l(5,"path",20)(6,"line",21),a(),h(),n(7,"span",18),r(8,"Etiquetas"),a()(),n(9,"a",22),d(),n(10,"svg",15),l(11,"path",23)(12,"path",24)(13,"path",25),a(),h(),n(14,"span",18),r(15,"Ingredientes"),a()(),n(16,"a",26),d(),n(17,"svg",15),l(18,"path",27)(19,"path",28)(20,"path",29)(21,"path",30),a(),h(),n(22,"span",18),r(23,"Ejercicios"),a()(),n(24,"a",31),d(),n(25,"svg",15),l(26,"circle",32)(27,"path",33)(28,"path",34)(29,"path",35),a(),h(),n(30,"span",18),r(31,"Comidas"),a()()())}function ke(e,i){e&1&&(n(0,"div",13),r(1,"Principal"),a(),n(2,"a",36),d(),n(3,"svg",15),l(4,"rect",37)(5,"rect",38)(6,"rect",39)(7,"rect",40),a(),h(),n(8,"span",18),r(9,"Dashboard"),a()(),n(10,"a",31),d(),n(11,"svg",41),l(12,"path",42),a(),h(),n(13,"span",18),r(14,"Mis Comidas"),a()(),n(15,"a",43),d(),n(16,"svg",44),l(17,"path",45),a(),h(),n(18,"span",18),r(19,"Mis Ejercicios"),a()(),n(20,"a",46),d(),n(21,"svg",47),l(22,"path",48),a(),h(),n(23,"span",18),r(24,"Mis Metas"),a()())}var U=class e{authService=m(f);sidebarToggle=new V;isCollapsed=b(!1);toggleSidebar(){this.isCollapsed.update(i=>!i),this.sidebarToggle.emit(this.isCollapsed())}isAdmin(){return this.authService.isAdmin()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-sidebar"]],outputs:{sidebarToggle:"sidebarToggle"},decls:24,vars:4,consts:[[1,"sidebar"],["title","Ocultar/Mostrar men\xFA",1,"toggle-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","9 18 15 12 9 6"],["points","15 18 9 12 15 6"],[1,"sidebar-nav"],[1,"nav-section"],[1,"header-content"],["routerLink","/",1,"logo"],[1,"logo-text"],[1,"logo-highlight"],[1,"nav-section","nav-section-divider","admin-section"],[1,"nav-section","nav-section-bottom"],[1,"section-title"],["routerLink","/profile","routerLinkActive","active",1,"nav-item"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"nav-icon"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"nav-text"],["routerLink","/etiquetas","routerLinkActive","active",1,"nav-item"],["d","M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"],["x1","7","y1","7","x2","7.01","y2","7"],["routerLink","/ingredientes","routerLinkActive","active",1,"nav-item"],["d","M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"],["d","M12 12v10"],["d","M8 22h8"],["routerLink","/ejercicios","routerLinkActive","active",1,"nav-item"],["d","M14.4 14.4L9.6 9.6"],["d","M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.828l-1.768 1.768a2 2 0 1 1 2.828 2.828z"],["d","M21.5 21.5l-1.4-1.4"],["d","M3.9 3.9l1.4 1.4"],["routerLink","/comidas","routerLinkActive","active",1,"nav-item"],["cx","12","cy","8","r","6"],["d","M12 14v8"],["d","M8.5 14l-1 8"],["d","M15.5 14l1 8"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item"],["x","3","y","3","width","7","height","7"],["x","14","y","3","width","7","height","7"],["x","14","y","14","width","7","height","7"],["x","3","y","14","width","7","height","7"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 20 23","fill","none",1,"nav-icon"],["d","M2.79125 1.16974C2.85687 0.592236 2.44125 0.0759864 1.86375 0.0103614C1.28625 -0.0552636 0.77 0.360362 0.704375 0.937862L0.00437493 7.23786L0 7.29474V8.05161C0 10.1779 1.72375 11.9016 3.85 11.9016H4.2V21.3516C4.2 21.9335 4.66813 22.4016 5.25 22.4016C5.83188 22.4016 6.3 21.9335 6.3 21.3516V11.9016H6.65C8.77625 11.9016 10.5 10.1779 10.5 8.05161V7.29474L10.4956 7.23786L9.79562 0.937862C9.72563 0.360362 9.205 -0.0552636 8.6275 0.00598643C8.05 0.0672364 7.63438 0.587861 7.7 1.16536L8.39562 7.40849V8.05161C8.39562 9.01849 7.6125 9.80161 6.64562 9.80161H3.84562C2.87875 9.80161 2.09562 9.01849 2.09562 8.05161V7.40849L2.79125 1.16536V1.16974ZM6.29562 1.05161C6.29562 0.469737 5.8275 0.0016115 5.24563 0.0016115C4.66375 0.0016115 4.19562 0.469737 4.19562 1.05161V7.35161C4.19562 7.93349 4.66375 8.40161 5.24563 8.40161C5.8275 8.40161 6.29562 7.93349 6.29562 7.35161V1.05161ZM14.3456 7.70161C14.3456 5.17724 15.295 3.82536 16.1569 3.07724C16.4937 2.78849 16.835 2.56974 17.1456 2.41224V13.3016H15.0456C14.6606 13.3016 14.3456 12.9866 14.3456 12.6016V7.70161ZM17.1456 15.4016V21.3516C17.1456 21.9335 17.6137 22.4016 18.1956 22.4016C18.7775 22.4016 19.2456 21.9335 19.2456 21.3516V1.40161C19.2456 0.627236 18.62 0.0016115 17.8456 0.0016115C17.1456 0.0016115 12.2456 1.40161 12.2456 7.70161V12.6016C12.2456 14.146 13.5012 15.4016 15.0456 15.4016H17.1456Z","fill","#64748B"],["routerLink","/transactions","routerLinkActive","active",1,"nav-item"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 20 27","fill","none",1,"nav-icon"],["d","M12.0049 0C13.4534 0 14.6299 1.17656 14.6299 2.625C14.6299 4.07344 13.4534 5.25 12.0049 5.25C10.5565 5.25 9.37992 4.07344 9.37992 2.625C9.37992 1.17656 10.5565 0 12.0049 0ZM5.75649 9C5.4518 9 5.17992 9.18281 5.06274 9.45937L3.67055 12.8062C3.43149 13.3781 2.77524 13.65 2.19867 13.4109C1.62211 13.1719 1.35492 12.5156 1.59399 11.9391L2.98617 8.59219C3.45024 7.47656 4.54242 6.75 5.75649 6.75H10.1534C11.7143 6.75 13.144 7.63125 13.8424 9.02812L15.2252 11.7891C15.2909 11.9156 15.4174 11.9953 15.5627 11.9953H18.3846C19.0081 11.9953 19.5096 12.4969 19.5096 13.1203C19.5096 13.7437 19.0081 14.2453 18.3846 14.2453H15.5627C14.569 14.2453 13.6596 13.6828 13.2143 12.7922L13.069 12.5016L11.8455 16.3781L14.4424 17.0531C15.5627 17.3437 16.1534 18.5719 15.6846 19.6312L13.0315 25.5797C12.7784 26.1469 12.1127 26.4047 11.5455 26.1516C10.9784 25.8984 10.7205 25.2328 10.9737 24.6656L13.4346 19.125L7.5893 17.6016C6.15492 17.2266 5.31586 15.7406 5.73305 14.3203L7.17211 9.43125L7.29867 9H5.7518H5.75649ZM9.6518 9C9.62836 9.075 9.04711 11.0625 7.89867 14.9578C7.83774 15.1594 7.95961 15.375 8.16586 15.4266L9.66586 15.8156L11.6018 9.67969C11.2502 9.25312 10.7205 9 10.158 9H9.65649H9.6518ZM5.49399 19.0828C5.94867 19.3922 6.45961 19.6312 7.02211 19.7812L7.57992 19.9266L7.33617 20.6109C7.08774 21.3 6.66117 21.9141 6.09867 22.3828L1.84711 25.9453C1.36899 26.3437 0.661173 26.2828 0.262736 25.8047C-0.135702 25.3266 -0.0747643 24.6187 0.403361 24.2203L4.65492 20.6578C4.91274 20.4422 5.10492 20.1656 5.21742 19.8516L5.49399 19.0828Z","fill","#64748B"],["routerLink","/metas","routerLinkActive","active",1,"nav-item"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 14 10","fill","none",1,"nav-icon"],["d","M12.5303 0.530334L4.28033 8.78033L0.530334 5.03033","stroke","#64748B","stroke-width","1.5"]],template:function(t,o){t&1&&(n(0,"aside",0)(1,"button",1),y("click",function(){return o.toggleSidebar()}),d(),n(2,"svg",2),C(3,ye,1,0,":svg:polyline",3)(4,Pe,1,0,":svg:polyline",4),a()(),h(),n(5,"nav",5)(6,"div",6)(7,"div",7)(8,"a",8)(9,"span",9),r(10,"Nutri"),n(11,"span",10),r(12,"Track"),a()()()(),C(13,Ee,32,0,"div",11)(14,ke,25,0),n(15,"div",12)(16,"div",13),r(17,"Cuenta"),a(),n(18,"a",14),d(),n(19,"svg",15),l(20,"path",16)(21,"circle",17),a(),h(),n(22,"span",18),r(23,"Mi Perfil"),a()()()()()()),t&2&&(O("collapsed",o.isCollapsed()),s(3),x(o.isCollapsed()?3:4),s(10),x(o.isAdmin()?13:14))},dependencies:[_,k,F],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;left:0;height:100vh;width:var(--sidebar-width);background:var(--color-background-light);box-shadow:var(--shadow-md);transition:var(--transition-base);z-index:1 display: flex;flex-direction:column}.sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(calc(-1 * var(--sidebar-width)))}.header-content[_ngcontent-%COMP%]{width:100%;margin:0 auto;display:flex;justify-content:center;padding:10px 0;box-shadow:0 2px 4px #0000001a}.logo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;text-decoration:none;font-size:1.5rem;font-weight:700}.logo-icon[_ngcontent-%COMP%]{font-size:2rem}.logo-text[_ngcontent-%COMP%]{color:var(--color-primary)}.logo-highlight[_ngcontent-%COMP%]{color:var(--color-secondary)}.toggle-btn[_ngcontent-%COMP%]{position:absolute;right:-25px;top:calc(50vh - 100px);width:25px;height:200px;background:var(--color-secondary);color:var(--color-text-light);border:none;box-shadow:0 2px 8px #667eea4d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition-base);z-index:var(--z-index-fixed)}.toggle-btn[_ngcontent-%COMP%]:hover{background:var(--color-secondary-dark);box-shadow:0 4px 12px #667eea80;transform:scale(1.05)}.toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:var(--transition-base)}.sidebar-nav[_ngcontent-%COMP%]{padding:var(--spacing-md) 0;overflow-y:auto;flex:1;display:flex;flex-direction:column}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-divider[_ngcontent-%COMP%]{padding-top:var(--spacing-md);margin-top:var(--spacing-md);border-top:2px solid var(--color-border-light)}.nav-section-bottom[_ngcontent-%COMP%]{margin-top:auto;padding-top:var(--spacing-md);border-top:2px solid var(--color-border-light)}.section-title[_ngcontent-%COMP%]{padding:.75rem var(--spacing-lg) var(--spacing-sm) var(--spacing-lg);font-size:var(--font-size-xs);font-weight:var(--font-weight-bold);text-transform:uppercase;letter-spacing:.5px;color:var(--color-text-muted)}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-md);padding:var(--spacing-md) var(--spacing-lg);color:var(--color-text-secondary);text-decoration:none;transition:var(--transition-base);position:relative}.nav-item[_ngcontent-%COMP%]:hover{background:var(--color-background);color:var(--color-secondary)}.nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(102,126,234,.1) 0%,transparent 100%);color:var(--color-secondary);border-left:3px solid var(--color-secondary)}.nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{color:var(--color-secondary)}.nav-icon[_ngcontent-%COMP%]{width:24px;height:24px;flex-shrink:0}.nav-text[_ngcontent-%COMP%]{font-size:.95rem;font-weight:var(--font-weight-medium);white-space:nowrap}.admin-section[_ngcontent-%COMP%]{border-top:2px solid var(--color-warning);background:linear-gradient(180deg,rgba(255,193,7,.05) 0%,transparent 100%)}.admin-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:var(--color-warning);font-weight:var(--font-weight-bold)}.admin-section[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{border-left:3px solid transparent}.admin-section[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:#ffc1071a;color:var(--color-warning);border-left:3px solid var(--color-warning)}.admin-section[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,193,7,.15) 0%,transparent 100%);color:var(--color-warning);border-left:3px solid var(--color-warning)}.admin-section[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{color:var(--color-warning)}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{top:60px;height:calc(100vh - 60px)}.toggle-btn[_ngcontent-%COMP%]{right:-38px}}"]})};var Le=e=>({exact:e});function Te(e,i){e&1&&(d(),l(0,"polyline",3))}function Ae(e,i){e&1&&(d(),l(0,"polyline",4))}function Ne(e,i){if(e&1&&(n(0,"a",19)(1,"mat-icon",20),r(2),a(),n(3,"span",21),r(4),a()()),e&2){let t=i.$implicit;W("routerLink",t.route)("routerLinkActiveOptions",ie(4,Le,t.route==="/admin/dashboard")),s(2),M(t.icon),s(2),M(t.label)}}var B=class e{authService=m(f);router=m(w);navItems=[{label:"Dashboard",icon:"dashboard",route:"/admin/dashboard"},{label:"Planes Nutricionales",icon:"menu_book",route:"/admin/planes"},{label:"Rutinas de Ejercicio",icon:"fitness_center",route:"/admin/rutinas"},{label:"Comidas",icon:"restaurant",route:"/admin/comidas"},{label:"Ingredientes",icon:"inventory_2",route:"/admin/ingredientes"},{label:"Ejercicios",icon:"directions_run",route:"/admin/ejercicios"},{label:"Etiquetas",icon:"label",route:"/admin/etiquetas"}];getUserName(){return this.authService.currentUser()?.nombre||"Admin"}getUserInitials(){let i=this.getUserName(),t=i.split(" ");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():i.substring(0,2).toUpperCase()}onLogout(){confirm("\xBFEst\xE1s seguro de que deseas cerrar sesi\xF3n?")&&this.authService.logout()}sidebarToggle=new V;isCollapsed=b(!1);toggleSidebar(){this.isCollapsed.update(i=>!i),this.sidebarToggle.emit(this.isCollapsed())}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-admin-sidebar"]],outputs:{sidebarToggle:"sidebarToggle"},decls:28,vars:6,consts:[[1,"admin-sidebar"],["title","Ocultar/Mostrar men\xFA",1,"toggle-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","9 18 15 12 9 6"],["points","15 18 9 12 15 6"],[1,"sidebar-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"user-section"],[1,"user-avatar"],[1,"avatar-fallback"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"sidebar-nav"],["routerLinkActive","active","class","nav-item","mat-ripple","",3,"routerLink","routerLinkActiveOptions",4,"ngFor","ngForOf"],[1,"sidebar-footer"],["mat-button","",1,"logout-btn",3,"click"],["routerLinkActive","active","mat-ripple","",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],[1,"nav-icon"],[1,"nav-label"]],template:function(t,o){t&1&&(n(0,"aside",0)(1,"button",1),y("click",function(){return o.toggleSidebar()}),d(),n(2,"svg",2),C(3,Te,1,0,":svg:polyline",3)(4,Ae,1,0,":svg:polyline",4),a()(),h(),n(5,"div",5)(6,"div",6)(7,"mat-icon",7),r(8,"spa"),a(),n(9,"span",8),r(10,"NutriTrack"),a()()(),n(11,"div",9)(12,"div",10)(13,"div",11),r(14),a()(),n(15,"div",12)(16,"p",13),r(17),a(),n(18,"p",14),r(19,"Administrador"),a()()(),n(20,"nav",15),Y(21,Ne,5,6,"a",16),a(),n(22,"div",17)(23,"button",18),y("click",function(){return o.onLogout()}),n(24,"mat-icon"),r(25,"logout"),a(),n(26,"span"),r(27,"Cerrar Sesi\xF3n"),a()()()()),t&2&&(O("collapsed",o.isCollapsed()),s(3),x(o.isCollapsed()?3:4),s(11),M(o.getUserInitials()),s(3),M(o.getUserName()),s(4),W("ngForOf",o.navItems))},dependencies:[_,ae,k,F,ge,pe,he,ve,fe,ue],styles:[".admin-sidebar[_ngcontent-%COMP%]{width:260px;height:100vh;background:linear-gradient(180deg,#003d2a,#002820);color:#fff;display:flex;flex-direction:column;box-shadow:2px 0 10px #0000001a;position:fixed;left:0;top:0;z-index:100}.admin-sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(calc(-1 * var(--sidebar-width)))}.toggle-btn[_ngcontent-%COMP%]{position:absolute;right:-25px;top:calc(50vh - 100px);width:25px;height:200px;background:var(--color-secondary);color:var(--color-text-light);border:none;box-shadow:0 2px 8px #667eea4d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition-base);z-index:var(--z-index-fixed)}.toggle-btn[_ngcontent-%COMP%]:hover{background:var(--color-secondary-dark);box-shadow:0 4px 12px #667eea80;transform:scale(1.05)}.toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:var(--transition-base)}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-bottom:1px solid rgba(255,255,255,.1)}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.brand-icon[_ngcontent-%COMP%]{color:#00a859;font-size:28px;width:28px;height:28px}.brand-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff;letter-spacing:.5px}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem 1rem;border-bottom:1px solid rgba(255,255,255,.1)}.user-avatar[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;border-radius:50%;overflow:hidden;flex-shrink:0}.avatar-fallback[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:linear-gradient(135deg,#00a859,#007a42);color:#fff;font-weight:600;font-size:1.125rem;border-radius:50%}.user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{margin:0 0 .25rem;font-weight:600;font-size:.9375rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-role[_ngcontent-%COMP%]{margin:0;font-size:.8125rem;color:#00a859;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem 0;overflow-y:auto}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.875rem 1.5rem;color:#fffc;text-decoration:none;transition:all .2s ease;cursor:pointer;border-left:3px solid transparent;font-size:.9375rem;font-weight:500;min-height:44px}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.nav-item.active[_ngcontent-%COMP%]{background:#00a85926;color:#00a859;border-left-color:#00a859}.nav-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;flex-shrink:0}.nav-label[_ngcontent-%COMP%]{flex:1;line-height:1.3;word-break:break-word}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid rgba(255,255,255,.1)}.logout-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;gap:1rem;padding:.875rem 1rem;color:#fffc;font-size:.9375rem;font-weight:500;text-transform:none;letter-spacing:normal}.logout-btn[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.logout-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}@media (max-width: 768px){.admin-sidebar[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .3s ease}.admin-sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}}"]})};function Ie(e,i){if(e&1){let t=I();n(0,"div",1)(1,"app-admin-sidebar",2),y("sidebarToggle",function(c){A(t);let v=S();return N(v.onSidebarToggle(c))}),a()(),n(2,"div",3),l(3,"app-navbar"),n(4,"main",4),l(5,"router-outlet"),a()()}if(e&2){let t=S();O("sidebar-open",!t.sidebarCollapsed()),s(2),O("sidebar-open",!t.sidebarCollapsed())}}function Ve(e,i){if(e&1){let t=I();n(0,"div",1)(1,"app-sidebar",2),y("sidebarToggle",function(c){A(t);let v=S();return N(v.onSidebarToggle(c))}),a()(),n(2,"div",3),l(3,"app-navbar"),n(4,"main",4),l(5,"router-outlet"),a()()}if(e&2){let t=S();O("sidebar-open",!t.sidebarCollapsed()),s(2),O("sidebar-open",!t.sidebarCollapsed())}}var q=class e{sidebarCollapsed=b(!1);authService=m(f);router=m(w);isAdmin=z(()=>this.authService.currentUser()?.role==="ROLE_ADMIN");isAdminRoute(){return this.router.url.startsWith("/admin")}onSidebarToggle(i){this.sidebarCollapsed.set(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-auth-layout"]],decls:3,vars:1,consts:[[1,"auth-layout"],[1,"sidebar-wrapper"],[3,"sidebarToggle"],[1,"content-wrapper"],[1,"auth-main"]],template:function(t,o){t&1&&(n(0,"div",0),C(1,Ie,6,4)(2,Ve,6,4),a()),t&2&&(s(),x(o.isAdminRoute()?1:2))},dependencies:[_,E,j,U,B],styles:[".auth-layout[_ngcontent-%COMP%]{width:calc(100vw - 8px);min-height:100vh;display:flex;position:absolute}.conten-sidebar-wrapper[_ngcontent-%COMP%]{width:var(--sidebar-width);height:100vh;display:flex;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]{width:100vw;display:flex;flex-direction:column;min-height:100vh;margin-left:0;transition:margin-left .3s ease,width .3s ease}.content-wrapper.sidebar-open[_ngcontent-%COMP%]{width:calc(100vw - var(--sidebar-width));margin-left:var(--sidebar-width)}.auth-main[_ngcontent-%COMP%]{margin-top:calc(20px + var(--navbar-height));flex:1}@media (max-width: 768px){.content-wrapper[_ngcontent-%COMP%]{width:100vw}.content-wrapper.sidebar-open[_ngcontent-%COMP%]{width:calc(100vw - var(--sidebar-width));margin-left:var(--sidebar-width)}.auth-main[_ngcontent-%COMP%]{min-height:calc(100vh - 120px)}}"]})};var xe=[{path:"",loadChildren:()=>import("./chunk-G7L3ACFH.js").then(e=>e.HOME_ROUTES)},{path:"",component:H,children:[{path:"",loadChildren:()=>import("./chunk-5G6ZGQ2F.js").then(e=>e.AUTH_ROUTES)}]},{path:"",component:q,canActivate:[me],children:[{path:"dashboard",loadChildren:()=>import("./chunk-NCQJBG2X.js").then(e=>e.DASHBOARD_ROUTES)},{path:"usuario",loadChildren:()=>import("./chunk-GORCMOC6.js").then(e=>e.USUARIO_ROUTES)},{path:"metas",loadChildren:()=>import("./chunk-H4IQ4LHK.js").then(e=>e.METAS_ROUTES)},{path:"seguimiento",loadChildren:()=>import("./chunk-BFOOVOSZ.js").then(e=>e.SEGUIMIENTO_ROUTES)},{path:"admin",canActivate:[Ce],loadChildren:()=>import("./chunk-YC4E56GM.js").then(e=>e.ADMIN_ROUTES)}]},{path:"**",redirectTo:""}];var _e=(e,i)=>{let o=m(f).getToken();if(o){let c=e.clone({setHeaders:{Authorization:`Bearer ${o}`}});return i(c)}return i(e)};var Me=(e,i)=>{let t=m(w),o=m(f);return i(e).pipe(Q(c=>{let v="Ocurri\xF3 un error";return c.error instanceof ErrorEvent?v=`Error: ${c.error.message}`:(v=`Error ${c.status}: ${c.error?.message||c.message}`,c.status===401&&(o.logout(),t.navigate(["/login"])),c.status===403&&t.navigate(["/"])),console.error(v),J(()=>new Error(v))}))};var we={providers:[X(),oe(),de(xe),se(le([_e,Me]))]};var Re=(e,i)=>i.id;function De(e,i){e&1&&(d(),p(0,"svg",4),P(1,"path",12)(2,"polyline",13),g())}function ze(e,i){e&1&&(d(),p(0,"svg",4),P(1,"circle",14)(2,"line",15)(3,"line",16),g())}function Fe(e,i){e&1&&(d(),p(0,"svg",4),P(1,"path",17)(2,"line",18)(3,"line",19),g())}function He(e,i){e&1&&(d(),p(0,"svg",4),P(1,"circle",14)(2,"line",20)(3,"line",21),g())}function Ge(e,i){if(e&1){let t=I();p(0,"div",2)(1,"div",3),C(2,De,3,0,":svg:svg",4)(3,ze,4,0,":svg:svg",4)(4,Fe,4,0,":svg:svg",4)(5,He,4,0,":svg:svg",4),g(),p(6,"div",5)(7,"div",6),r(8),g(),p(9,"div",7),r(10),g()(),p(11,"button",8),R("click",function(){let c=A(t).$implicit,v=S();return N(v.close(c.id))}),d(),p(12,"svg",9),P(13,"line",10)(14,"line",11),g()()()}if(e&2){let t,o=i.$implicit;ne("toast-"+o.type),s(2),x((t=o.type)==="success"?2:t==="error"?3:t==="warning"?4:t==="info"?5:-1),s(6),M(o.title),s(2),M(o.message)}}var Z=class e{notificationService=m(be);close(i){this.notificationService.remove(i)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-container"],[1,"toast",3,"class"],[1,"toast"],[1,"toast-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"toast-content"],[1,"toast-title"],[1,"toast-message"],["aria-label","Cerrar",1,"toast-close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"]],template:function(t,o){t&1&&(p(0,"div",0),ee(1,Ge,15,5,"div",1,Re),g()),t&2&&(s(),te(o.notificationService.notifications$()))},dependencies:[_],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:12px;max-width:400px}.toast[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;animation:_ngcontent-%COMP%_slideIn .3s ease-out;border-left:4px solid}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast-success[_ngcontent-%COMP%]{border-left-color:#28a745}.toast-error[_ngcontent-%COMP%]{border-left-color:#dc3545}.toast-warning[_ngcontent-%COMP%]{border-left-color:#ffc107}.toast-info[_ngcontent-%COMP%]{border-left-color:#17a2b8}.toast-icon[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px}.toast-success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#28a745}.toast-error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#dc3545}.toast-warning[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#ffc107}.toast-info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#17a2b8}.toast-content[_ngcontent-%COMP%]{flex:1;min-width:0}.toast-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:#333;margin-bottom:4px}.toast-message[_ngcontent-%COMP%]{font-size:.875rem;color:#666;line-height:1.4}.toast-close[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px;padding:0;background:none;border:none;color:#999;cursor:pointer;transition:color .2s;display:flex;align-items:center;justify-content:center}.toast-close[_ngcontent-%COMP%]:hover{color:#333}@media (max-width: 480px){.toast-container[_ngcontent-%COMP%]{left:10px;right:10px;top:70px;max-width:none}}"]})};var $=class e{title=b("nutritrack-webapp");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,o){t&1&&l(0,"router-outlet")(1,"app-toast")},dependencies:[E,Z],encapsulation:2})};re($,we).catch(e=>console.error(e));
