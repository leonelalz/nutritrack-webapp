import{a as R}from"./chunk-73PQWT7O.js";import{a as k}from"./chunk-AVXLCIQN.js";import"./chunk-Q53AFBXZ.js";import{b as y,e as E}from"./chunk-ONQJZTIX.js";import"./chunk-N5IZLMDI.js";import{Bb as P,Db as v,Ec as I,Ma as r,Qb as O,Rb as a,Sa as l,Sb as d,Tb as s,Za as C,_b as S,ba as b,ca as x,ma as u,mb as p,nb as g,pb as _,qb as h,rb as f,sb as n,tb as i,zb as M}from"./chunk-D6HZ3QFW.js";import"./chunk-2VMXMS7J.js";var D=()=>["/metas/rutinas"],N=(o,e)=>e.id;function T(o,e){o&1&&(n(0,"div",0)(1,"p"),a(2,"Cargando detalles de la rutina..."),i()())}function A(o,e){if(o&1&&(n(0,"div",12)(1,"span",15),a(2,"\u2713"),i(),n(3,"span",16),a(4),i()()),o&2){let t=e.$implicit;r(4),d(t.nombre)}}function z(o,e){if(o&1){let t=M();n(0,"div",1)(1,"button",2),a(2," \u2190 Volver a Rutinas "),i(),n(3,"div",3)(4,"div",4)(5,"h1"),a(6),i(),n(7,"span",5),a(8),i()(),n(9,"p",6),a(10),i(),n(11,"div",7)(12,"div",8)(13,"h3"),a(14,"Duraci\xF3n por Sesi\xF3n"),i(),n(15,"p",9),a(16),i()(),n(17,"div",8)(18,"h3"),a(19,"Sesiones por Semana"),i(),n(20,"p",9),a(21),i()(),n(22,"div",8)(23,"h3"),a(24,"Duraci\xF3n Total"),i(),n(25,"p",9),a(26),i()()(),n(27,"div",10)(28,"h2"),a(29,"Beneficios"),i(),n(30,"div",11),_(31,A,5,1,"div",12,N),i()(),n(33,"div",13)(34,"button",14),P("click",function(){b(t);let m=v();return x(m.activarRutina())}),a(35),i()()()()}if(o&2){let t=v();r(),f("routerLink",S(11,D)),r(5),d(t.rutina().nombre),r(),O("nivel-"+t.rutina().nivel.toLowerCase()),r(),s(" ",t.formatearNivel(t.rutina().nivel)," "),r(2),d(t.rutina().descripcion),r(6),s("",t.rutina().duracionMinutos," min"),r(5),d(t.rutina().sesionasSemanales),r(5),s("",t.calcularDuracionTotal()," semanas"),r(5),h(t.rutina().etiquetas),r(3),f("disabled",t.rutina().activaParaUsuario),r(),s(" ",t.rutina().activaParaUsuario?"Ya Activada":"Activar Rutina"," ")}}var w=class o{constructor(e,t,c){this.route=e;this.metasService=t;this.notificationService=c}loading=u(!1);rutinaId=0;rutina=u(null);ngOnInit(){this.route.params.subscribe(e=>{this.rutinaId=+e.id,this.cargarRutina()})}cargarRutina(){this.loading.set(!0),this.metasService.obtenerTodasLasRutinasDeUsuario().subscribe({next:e=>{if(this.loading.set(!1),e.success){let c=(e.data||[]).find(m=>m.id===this.rutinaId);c&&this.rutina.set(c)}},error:()=>{this.loading.set(!1),this.notificationService.showError("Error al cargar la rutina")}})}activarRutina(){this.rutina()&&this.metasService.activarRutina({rutinaId:this.rutinaId}).subscribe({next:e=>{e.success&&(this.notificationService.showSuccess("Rutina activada exitosamente"),this.cargarRutina())},error:e=>{this.notificationService.showError(e.error?.message||"Error al activar la rutina")}})}calcularDuracionTotal(){let e=this.rutina();return e?Math.ceil((e.duracionSemanas||12)/7):0}formatearNivel(e){return{PRINCIPIANTE:"Principiante",INTERMEDIO:"Intermedio",AVANZADO:"Avanzado"}[e]||e}static \u0275fac=function(t){return new(t||o)(l(y),l(R),l(k))};static \u0275cmp=C({type:o,selectors:[["app-catalogo-detalle-rutina"]],decls:2,vars:2,consts:[[1,"loading"],[1,"detalle-rutina-container"],[1,"btn-back",3,"routerLink"],[1,"rutina-detail"],[1,"rutina-header"],[1,"badge"],[1,"description"],[1,"rutina-info-grid"],[1,"info-card"],[1,"value"],[1,"benefits-section"],[1,"benefits-list"],[1,"benefit-item"],[1,"cta-section"],[1,"btn-primary",3,"click","disabled"],[1,"checkmark"],[1,"benefit-text"]],template:function(t,c){t&1&&(p(0,T,3,0,"div",0),p(1,z,36,12,"div",1)),t&2&&(g(c.loading()?0:-1),r(),g(!c.loading()&&c.rutina()?1:-1))},dependencies:[I,E],styles:[".detalle-rutina-container[_ngcontent-%COMP%]{padding:2rem;max-width:900px;margin:0 auto}.btn-back[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;font-size:1rem;cursor:pointer;margin-bottom:2rem;font-weight:600}.btn-back[_ngcontent-%COMP%]:hover{text-decoration:underline}.rutina-detail[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:2rem;box-shadow:0 2px 8px #0000001a}.rutina-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;gap:1rem;flex-wrap:wrap}.rutina-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-size:2rem}.badge[_ngcontent-%COMP%]{padding:.5rem 1rem;color:#fff;border-radius:20px;font-weight:600;white-space:nowrap}.badge.nivel-principiante[_ngcontent-%COMP%]{background:#48bb78}.badge.nivel-intermedio[_ngcontent-%COMP%]{background:#667eea}.badge.nivel-avanzado[_ngcontent-%COMP%]{background:#f6ad55}.description[_ngcontent-%COMP%]{color:#718096;font-size:1.125rem;margin-bottom:2rem;line-height:1.6}.rutina-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}.info-card[_ngcontent-%COMP%]{background:#f7fafc;padding:1.5rem;border-radius:8px;text-align:center}.info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#718096;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px}.info-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-size:1.5rem;font-weight:700}.benefits-section[_ngcontent-%COMP%]{margin-bottom:2rem}.benefits-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:1.5rem}.benefits-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.benefit-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:#f7fafc;border-left:4px solid #48bb78;border-radius:8px}.checkmark[_ngcontent-%COMP%]{font-size:1.5rem;color:#48bb78;font-weight:700;flex-shrink:0}.benefit-text[_ngcontent-%COMP%]{color:#2d3748;font-weight:500}.cta-section[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-top:2rem;border-top:1px solid #e2e8f0}.btn-primary[_ngcontent-%COMP%]{flex:1;padding:1rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem;color:#718096}"]})};export{w as MetasDetalleRutinaComponent};
