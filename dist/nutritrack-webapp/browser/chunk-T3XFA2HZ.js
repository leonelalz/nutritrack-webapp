import{b as F,c as S,e as b,g as k,h as D,k as z,m as L,o as N,u as T,w as A}from"./chunk-2VZLF2MU.js";import{a as E}from"./chunk-GTAS47PG.js";import"./chunk-6LZ2YNEV.js";import{f as O,g as y}from"./chunk-7Q5XKRGT.js";import{Ka as l,Kb as v,Mb as t,Nb as P,Va as M,W as x,ib as s,jb as p,ka as m,nb as _,ob as e,pb as n,qb as c,wb as C,xc as w,yb as h}from"./chunk-FVUT7SF7.js";import"./chunk-2VMXMS7J.js";function j(o,a){o&1&&t(0," El correo es requerido ")}function q(o,a){o&1&&t(0," Ingresa un correo v\xE1lido ")}function I(o,a){if(o&1&&(e(0,"span",20),s(1,j,1,0)(2,q,1,0),n()),o&2){let r,i=h();l(),p(!((r=i.loginForm.get("email"))==null||r.errors==null)&&r.errors.required?1:!((r=i.loginForm.get("email"))==null||r.errors==null)&&r.errors.email?2:-1)}}function G(o,a){o&1&&t(0," \u{1F441}\uFE0F ")}function B(o,a){o&1&&t(0," \u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F ")}function V(o,a){o&1&&(e(0,"span",20),t(1,"La contrase\xF1a es requerida"),n())}function Y(o,a){if(o&1&&(e(0,"div",28)(1,"span",32),t(2,"\u26A0\uFE0F"),n(),e(3,"span"),t(4),n()()),o&2){let r=h();l(4),P(r.errorMessage())}}function H(o,a){o&1&&(c(0,"span",33),e(1,"span"),t(2,"Ingresando..."),n())}function J(o,a){o&1&&(e(0,"span"),t(1,"Iniciar Sesi\xF3n"),n())}var R=class o{fb=x(T);authService=x(E);router=x(O);loading=m(!1);errorMessage=m("");showPassword=m(!1);emailFocused=m(!1);loginForm=this.fb.group({email:["",[b.required,b.email]],password:["",b.required],rememberMe:[!1]});togglePassword(){this.showPassword.update(a=>!a)}onSubmit(){if(this.loginForm.valid){this.loading.set(!0),this.errorMessage.set("");let a={email:this.loginForm.value.email,password:this.loginForm.value.password};this.authService.login(a).subscribe({next:()=>{this.authService.isAdmin()?(console.log("\u2705 Redirigiendo a /admin/dashboard"),this.router.navigate(["/admin/dashboard"])):(console.log("\u2705 Redirigiendo a /dashboard"),this.router.navigate(["/dashboard"]))},error:r=>{this.errorMessage.set("Credenciales incorrectas. Por favor, verifica tus datos."),this.loading.set(!1)}})}}static \u0275fac=function(r){return new(r||o)};static \u0275cmp=M({type:o,selectors:[["app-login"]],decls:79,vars:14,consts:[[1,"login-container"],[1,"login-wrapper"],[1,"login-sidebar"],[1,"pattern-overlay"],[1,"sidebar-content"],[1,"brand-header"],[1,"brand-icon"],[1,"brand-name"],[1,"sidebar-info"],[1,"sidebar-title"],[1,"sidebar-description"],[1,"features-list"],[1,"feature-item"],[1,"feature-icon"],[1,"login-form-container"],[1,"form-header"],[3,"ngSubmit","formGroup"],[1,"form-content"],[1,"form-group"],["type","email","formControlName","email","placeholder","tu@email.com",1,"form-input",3,"focus","blur"],[1,"error-text"],[1,"password-wrapper"],["formControlName","password","placeholder","Tu contrase\xF1a",1,"form-input",3,"type"],["type","button",1,"toggle-password",3,"click"],[1,"form-options"],[1,"remember-me"],["type","checkbox","formControlName","rememberMe"],["href","#",1,"forgot-password"],[1,"alert-error"],["type","submit",1,"btn-primary",3,"disabled"],[1,"register-link"],["routerLink","/register"],[1,"alert-icon"],[1,"spinner"]],template:function(r,i){if(r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),c(3,"div",3),e(4,"div",4)(5,"div",5)(6,"div",6),t(7,"\u{1F957}"),n(),e(8,"h2",7),t(9,"Nutritrack"),n()(),e(10,"div",8)(11,"h3",9),t(12,"\xA1Bienvenido de vuelta!"),n(),e(13,"p",10),t(14," Contin\xFAa tu viaje hacia una vida m\xE1s saludable con el seguimiento nutricional m\xE1s completo. "),n()(),e(15,"div",11)(16,"div",12)(17,"div",13),t(18,"\u2713"),n(),e(19,"span"),t(20,"Seguimiento completo de calor\xEDas y nutrientes"),n()(),e(21,"div",12)(22,"div",13),t(23,"\u2713"),n(),e(24,"span"),t(25,"An\xE1lisis personalizado de tu progreso"),n()(),e(26,"div",12)(27,"div",13),t(28,"\u2713"),n(),e(29,"span"),t(30,"Base de datos con miles de alimentos"),n()(),e(31,"div",12)(32,"div",13),t(33,"\u2713"),n(),e(34,"span"),t(35,"Reportes detallados y metas personalizadas"),n()(),e(36,"div",12)(37,"div",13),t(38,"\u2713"),n(),e(39,"span"),t(40,"Sincronizaci\xF3n en todos tus dispositivos"),n()()()()(),e(41,"div",14)(42,"div",15)(43,"h1"),t(44,"Iniciar Sesi\xF3n"),n(),e(45,"p"),t(46,"Ingresa tus credenciales para acceder a tu cuenta"),n()(),e(47,"form",16),C("ngSubmit",function(){return i.onSubmit()}),e(48,"div",17)(49,"div",18)(50,"label"),t(51,"Correo Electr\xF3nico"),n(),e(52,"input",19),C("focus",function(){return i.emailFocused.set(!0)})("blur",function(){return i.emailFocused.set(!1)}),n(),s(53,I,3,1,"span",20),n(),e(54,"div",18)(55,"label"),t(56,"Contrase\xF1a"),n(),e(57,"div",21),c(58,"input",22),e(59,"button",23),C("click",function(){return i.togglePassword()}),s(60,G,1,0)(61,B,1,0),n()(),s(62,V,2,0,"span",20),n(),e(63,"div",24)(64,"label",25),c(65,"input",26),e(66,"span"),t(67,"Recordarme"),n()(),e(68,"a",27),t(69,"\xBFOlvidaste tu contrase\xF1a?"),n()()(),s(70,Y,5,1,"div",28),e(71,"button",29),s(72,H,3,0)(73,J,2,0,"span"),n(),e(74,"div",30)(75,"span"),t(76,"\xBFNo tienes una cuenta?"),n(),e(77,"a",31),t(78,"Reg\xEDstrate aqu\xED"),n()()()()()()),r&2){let d,g,u,f;l(47),_("formGroup",i.loginForm),l(5),v("focused",i.emailFocused())("error",((d=i.loginForm.get("email"))==null?null:d.invalid)&&((d=i.loginForm.get("email"))==null?null:d.touched)),l(),p((g=i.loginForm.get("email"))!=null&&g.invalid&&((g=i.loginForm.get("email"))!=null&&g.touched)?53:-1),l(5),v("error",((u=i.loginForm.get("password"))==null?null:u.invalid)&&((u=i.loginForm.get("password"))==null?null:u.touched)),_("type",i.showPassword()?"text":"password"),l(2),p(i.showPassword()?60:61),l(2),p((f=i.loginForm.get("password"))!=null&&f.invalid&&((f=i.loginForm.get("password"))!=null&&f.touched)?62:-1),l(8),p(i.errorMessage()?70:-1),l(),_("disabled",i.loginForm.invalid||i.loading()),l(),p(i.loading()?72:73)}},dependencies:[w,A,z,S,F,k,D,L,N,y],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;padding:100px 32px;display:flex;justify-content:center;align-items:center}.login-wrapper[_ngcontent-%COMP%]{width:100%;max-width:900px;min-height:600px;background:#fff;box-shadow:0 20px 40px #0000001a;border-radius:20px;display:grid;grid-template-columns:1fr 1fr;overflow:hidden}.login-sidebar[_ngcontent-%COMP%]{background:linear-gradient(123deg,#28a745,#20c997);padding:60px 40px;position:relative;overflow:hidden}.pattern-overlay[_ngcontent-%COMP%]{position:absolute;top:-347px;left:-225px;width:900px;height:1388px;pointer-events:none}.pattern-overlay[_ngcontent-%COMP%]:before, .pattern-overlay[_ngcontent-%COMP%]:after{content:"";position:absolute;background:#ffffff1a}.pattern-overlay[_ngcontent-%COMP%]:before{width:36px;height:36px;top:509px;left:387px}.pattern-overlay[_ngcontent-%COMP%]:after{width:27px;height:27px;top:693px;left:931px;background:#ffffff26}.sidebar-content[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;gap:24px}.brand-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.brand-icon[_ngcontent-%COMP%]{width:50px;height:50px;background:#fff3;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:40px}.brand-name[_ngcontent-%COMP%]{color:#fff;font-size:36px;font-weight:700;margin:0}.sidebar-info[_ngcontent-%COMP%]{margin-top:20px}.sidebar-title[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700;line-height:1.3;margin:0 0 16px}.sidebar-description[_ngcontent-%COMP%]{color:#fff;font-size:16px;line-height:1.5;opacity:.9;margin:0}.features-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-top:40px}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;color:#fff;font-size:14px}.feature-icon[_ngcontent-%COMP%]{width:24px;height:24px;background:#fff3;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;flex-shrink:0}.login-form-container[_ngcontent-%COMP%]{padding:60px 40px;display:flex;flex-direction:column;justify-content:center}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;font-size:28px;font-weight:700;margin:0 0 8px}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:24px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}label[_ngcontent-%COMP%]{color:#333;font-size:14px;font-weight:700}.form-input[_ngcontent-%COMP%]{width:100%;padding:16px 18px;background:#f8f9fa;border:2px solid #E9ECEF;border-radius:12px;font-size:15px;color:#333;transition:all .3s ease;box-sizing:border-box}.form-input[_ngcontent-%COMP%]::placeholder{color:#757575}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#28a745;background:#fff;box-shadow:0 0 0 3px #28a7451a}.form-input.focused[_ngcontent-%COMP%]{border-color:#28a745;background:#fff;box-shadow:0 0 0 3px #28a7451a}.form-input.error[_ngcontent-%COMP%]{border-color:#dc3545}.password-wrapper[_ngcontent-%COMP%]{position:relative}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:18px;padding:4px;color:#6c757d}.error-text[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;font-weight:500;margin-top:-4px}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;color:#333;font-size:14px;font-weight:400}.remember-me[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:13px;height:13px;border:1px solid #767676;border-radius:2.5px;cursor:pointer}.forgot-password[_ngcontent-%COMP%]{color:#28a745;text-decoration:none;font-size:14px;font-weight:500;transition:color .3s ease}.forgot-password[_ngcontent-%COMP%]:hover{color:#20c997;text-decoration:underline}.alert-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 18px;background:#ffe5e8;border:1px solid #FFCCD3;border-radius:12px;color:#dc3545;font-size:13px;margin-bottom:20px}.alert-icon[_ngcontent-%COMP%]{font-size:20px}.btn-primary[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(173deg,#28a745,#20c997);color:#fff;border:none;border-radius:12px;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:24px}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 16px #28a7454d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid white;border-top-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.register-link[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-size:14px}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#28a745;text-decoration:none;font-weight:700;margin-left:4px}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 992px){.login-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr;max-width:500px}.login-sidebar[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.login-container[_ngcontent-%COMP%]{padding:40px 16px}.login-form-container[_ngcontent-%COMP%]{padding:40px 24px}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}}']})};export{R as LoginComponent};
