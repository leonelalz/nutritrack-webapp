import{a as H,b as V}from"./chunk-AERAWHYX.js";import{a as Q}from"./chunk-73PQWT7O.js";import{a as W}from"./chunk-FAQLDPXB.js";import"./chunk-VRXVPH7L.js";import{o as T}from"./chunk-IEOKP2HD.js";import{A}from"./chunk-7NAIVTKU.js";import{a as B}from"./chunk-AVXLCIQN.js";import{g as $,j as R,w as L}from"./chunk-GRSFFSFU.js";import"./chunk-Q53AFBXZ.js";import{e as I}from"./chunk-ONQJZTIX.js";import"./chunk-N5IZLMDI.js";import{Bb as S,Db as m,Ec as N,Ma as r,Pb as j,Rb as a,Sa as x,Sb as u,Tb as p,Ub as w,Vb as D,Wb as k,Xb as z,Za as P,_b as h,ba as _,ca as C,ec as F,ma as d,mb as l,nb as g,pb as O,qb as E,rb as M,sb as o,tb as n,zb as y}from"./chunk-D6HZ3QFW.js";import{a as v,b}from"./chunk-2VMXMS7J.js";var J=()=>["/metas/rutinas"],U=(i,t)=>t.id;function X(i,t){if(i&1&&(o(0,"span",16),a(1),n()),i&2){let e=m();r(),u(e.rutinaActiva().nombre)}}function q(i,t){i&1&&(o(0,"a",17),a(1,"Activar Rutina"),n()),i&2&&M("routerLink",h(1,J))}function G(i,t){i&1&&(o(0,"div",19)(1,"p"),a(2,"Cargando..."),n()())}function K(i,t){i&1&&(o(0,"div",20)(1,"span",22),a(2,"\u{1F3CB}\uFE0F"),n(),o(3,"p"),a(4,"No tienes ejercicios programados"),n(),o(5,"button",23),a(6,"Activar una Rutina"),n()()),i&2&&(r(5),M("routerLink",h(1,J)))}function Z(i,t){if(i&1&&(o(0,"span",30),a(1),n()),i&2){let e=m().$implicit;r(),p("\u{1F501} ",e.series," series")}}function ee(i,t){if(i&1&&(o(0,"span",30),a(1),n()),i&2){let e=m().$implicit;r(),p("\u{1F522} ",e.repeticiones," reps")}}function te(i,t){if(i&1&&(o(0,"span",30),a(1),n()),i&2){let e=m().$implicit;r(),p("\u2696\uFE0F ",e.peso," kg")}}function ie(i,t){if(i&1&&(o(0,"span",30),a(1),n()),i&2){let e=m().$implicit;r(),p("\u23F1\uFE0F ",e.duracionMinutos," min")}}function ne(i,t){if(i&1&&(o(0,"span",30),a(1),n()),i&2){let e=m().$implicit;r(),p("\u{1F6D1} ",e.descansoSegundos,"s")}}function oe(i,t){if(i&1&&(o(0,"p",31),a(1),n()),i&2){let e=m().$implicit;r(),u(e.notas)}}function ae(i,t){if(i&1){let e=y();o(0,"div",25)(1,"div",26)(2,"mat-checkbox",27),z("ngModelChange",function(s){let f=_(e).$implicit;return k(f.completado,s)||(f.completado=s),C(s)}),S("change",function(){let s=_(e).$implicit,f=m(2);return C(f.marcarEjercicioCompletado(s))}),n()(),o(3,"div",28)(4,"h4"),a(5),n(),o(6,"div",29),l(7,Z,2,1,"span",30),l(8,ee,2,1,"span",30),l(9,te,2,1,"span",30),l(10,ie,2,1,"span",30),l(11,ne,2,1,"span",30),n(),l(12,oe,2,1,"p",31),n()()}if(i&2){let e=t.$implicit;j("completado",e.completado),r(2),D("ngModel",e.completado),r(3),u(e.ejercicioNombre),r(2),g(e.series?7:-1),r(),g(e.repeticiones?8:-1),r(),g(e.peso?9:-1),r(),g(e.duracionMinutos?10:-1),r(),g(e.descansoSegundos?11:-1),r(),g(e.notas?12:-1)}}function re(i,t){if(i&1&&(o(0,"div",21),O(1,ae,13,10,"div",24,U),n()),i&2){let e=m();r(),E(e.ejerciciosProgramados())}}var Y=class i{constructor(t,e,c){this.metasService=t;this.notificationService=e;this.mockData=c;this.ejerciciosProgramados=this.mockData.ejerciciosProgramados,this.rutinaActiva=F(()=>this.mockData.rutinaActiva())}fechaHoy=new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});cargando=d(!1);caloriasQuemadas=d(0);tiempoActivo=d(0);tiempoMeta=d(60);sesionesSemanales=d(0);racha=d(0);ejerciciosProgramados=d([]);rutinaActiva;progresoSemanal=d([{dia:"L",calorias:0},{dia:"M",calorias:0},{dia:"X",calorias:0},{dia:"J",calorias:0},{dia:"V",calorias:0},{dia:"S",calorias:0},{dia:"D",calorias:0}]);maxCaloriasSemana=d(600);ngOnInit(){this.cargarEjerciciosProgramados(),this.cargarRutinaActiva()}cargarEjerciciosProgramados(){this.cargando.set(!0),this.metasService.obtenerEjerciciosProgramadosHoy().subscribe({next:t=>{if(t.success&&t.data){let e=t.data.map(c=>b(v({},c),{completado:!1}));this.ejerciciosProgramados.set(e)}this.actualizarEstadisticas(),this.cargando.set(!1)},error:()=>{this.actualizarEstadisticas(),this.notificationService.showSuccess("Modo demo: ejercicios cargados sin conexi\xF3n"),this.cargando.set(!1)}})}cargarRutinaActiva(){this.metasService.obtenerRutinasActivas().subscribe({next:t=>{if(t.success&&t.data&&t.data.length>0){let e=t.data[0];this.rutinaActiva.set({nombre:e.rutinaNombre||"Rutina de Ejercicios",descripcion:e.rutinaDescripcion||"",duracion:e.semanasPatron||0,semanaActual:e.semanaActual||0,frecuencia:e.frecuenciaSemanal||0,objetivo:e.objetivo||"",programacion:[]})}},error:t=>{console.error("Error al cargar rutina activa:",t)}})}marcarEjercicioCompletado(t){if(this.mockData.marcarEjercicioCompletado(t.id),t.completado){let e=new Date().toISOString().split("T")[0];this.metasService.registrarEjercicioCompletado({rutinaEjercicioId:t.id,fecha:e,seriesRealizadas:t.series,repeticionesRealizadas:t.repeticiones,pesoUtilizado:t.peso,duracionMinutos:t.duracionMinutos}).subscribe({next:c=>{c.success?this.notificationService.showSuccess(`\u2713 ${t.ejercicioNombre} completado`):this.notificationService.showSuccess(`\u2713 ${t.ejercicioNombre} completado (demo)`),this.actualizarEstadisticas()},error:()=>{this.notificationService.showSuccess(`\u2713 ${t.ejercicioNombre} completado (demo)`),this.actualizarEstadisticas()}})}else this.actualizarEstadisticas()}actualizarEstadisticas(){let t=this.ejerciciosProgramados(),e=t.filter(s=>s.completado).length;this.sesionesSemanales.set(e);let c=t.filter(s=>s.completado).reduce((s,f)=>s+(f.duracionMinutos||0),0);this.tiempoActivo.set(c)}loadEjerciciosHoy(){}loadRutinaActiva(){}loadProgresoSemanal(){}static \u0275fac=function(e){return new(e||i)(x(Q),x(B),x(W))};static \u0275cmp=P({type:i,selectors:[["app-mis-ejercicios"]],decls:53,vars:7,consts:[[1,"mis-ejercicios-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"icon"],[1,"page-subtitle"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-header"],[1,"stat-icon"],[1,"stat-label"],[1,"stat-value"],[1,"stat-footer"],[1,"stat-meta"],[1,"content-card"],[1,"card-header"],[1,"badge-success"],[1,"link-primary",3,"routerLink"],[1,"card-content"],[1,"loading-state"],[1,"empty-state"],[1,"exercises-list"],[1,"empty-icon"],[1,"btn-secondary",3,"routerLink"],[1,"exercise-item",3,"completado"],[1,"exercise-item"],[1,"exercise-checkbox"],["color","primary",3,"ngModelChange","change","ngModel"],[1,"exercise-info"],[1,"exercise-details"],[1,"detail"],[1,"notas"]],template:function(e,c){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"span",4),a(5,"\u{1F3C3}\u200D\u2642\uFE0F"),n(),a(6," Mis Ejercicios "),n(),o(7,"p",5),a(8),n()()(),o(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),a(13,"\u{1F525}"),n(),o(14,"span",10),a(15,"Calor\xEDas Quemadas"),n()(),o(16,"div",11),a(17),n(),o(18,"div",12)(19,"span",13),a(20,"Hoy"),n()()(),o(21,"div",7)(22,"div",8)(23,"span",9),a(24,"\u23F1\uFE0F"),n(),o(25,"span",10),a(26,"Tiempo Activo"),n()(),o(27,"div",11),a(28),n(),o(29,"div",12)(30,"span",13),a(31,"objetivo"),n()()(),o(32,"div",7)(33,"div",8)(34,"span",9),a(35,"\u2705"),n(),o(36,"span",10),a(37,"Completados"),n()(),o(38,"div",11),a(39),n(),o(40,"div",12)(41,"span",13),a(42,"ejercicios hoy"),n()()()(),o(43,"div",14)(44,"div",15)(45,"h2"),a(46,"\u{1F3AF} Ejercicios Programados"),n(),l(47,X,2,1,"span",16)(48,q,2,2,"a",17),n(),o(49,"div",18),l(50,G,3,0,"div",19)(51,K,7,2,"div",20)(52,re,3,0,"div",21),n()()()),e&2&&(r(8),u(c.fechaHoy),r(9),u(c.caloriasQuemadas()),r(11),p("",c.tiempoActivo()," min"),r(11),w("",c.sesionesSemanales(),"/",c.ejerciciosProgramados().length),r(8),g(c.rutinaActiva()?47:48),r(3),g(c.cargando()?50:c.ejerciciosProgramados().length===0?51:52))},dependencies:[N,I,A,T,V,H,L,$,R],styles:[".mis-ejercicios-container[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:2rem;flex-wrap:wrap}.header-content[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:0 0 .5rem;font-size:2rem;font-weight:700;color:#2d3748}.page-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2.5rem}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#718096;font-size:1.1rem}.btn-add[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#e53e3e,#c53030);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 6px #e53e3e4d}.btn-add[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 12px #e53e3e66}.btn-add[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.25rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000001a;transition:transform .2s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #00000026}.stat-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.stat-icon[_ngcontent-%COMP%]{font-size:1.75rem}.stat-label[_ngcontent-%COMP%]{color:#718096;font-size:.95rem;font-weight:600}.stat-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2d3748;margin-bottom:.5rem}.stat-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.stat-meta[_ngcontent-%COMP%]{color:#a0aec0;font-size:.875rem}.progress-bar[_ngcontent-%COMP%]{height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#e53e3e,#c53030);transition:width .3s ease}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:1.5rem;margin-bottom:1.5rem}.content-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;color:#2d3748}.date[_ngcontent-%COMP%]{color:#718096;font-size:.95rem}.link-see-all[_ngcontent-%COMP%]{color:#e53e3e;font-size:.95rem;font-weight:600;text-decoration:none;transition:color .2s}.link-see-all[_ngcontent-%COMP%]:hover{color:#c53030}.card-content[_ngcontent-%COMP%]{padding:1.5rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem;color:#a0aec0}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;display:block;margin-bottom:1rem;opacity:.5}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1.5rem;font-size:1.1rem}.btn-secondary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:#edf2f7;color:#4a5568;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0;transform:translateY(-2px)}.exercises-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.exercise-item[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:1rem;background:#f7fafc;border-radius:8px;border-left:4px solid #e53e3e}.exercise-time[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:80px}.time[_ngcontent-%COMP%]{font-weight:700;color:#2d3748}.type-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;background:#e53e3e;color:#fff;border-radius:4px;font-size:.75rem;font-weight:600;text-align:center}.exercise-info[_ngcontent-%COMP%]{flex:1}.exercise-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#2d3748;font-size:1.1rem}.exercise-details[_ngcontent-%COMP%]{display:flex;gap:.75rem;flex-wrap:wrap}.detail[_ngcontent-%COMP%]{padding:.25rem .75rem;background:#fff;border:1px solid #e2e8f0;border-radius:4px;font-size:.875rem;color:#4a5568}.routine-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.routine-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:start;gap:1rem}.routine-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2d3748;font-size:1.25rem}.routine-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;background:linear-gradient(135deg,#e53e3e,#c53030);color:#fff;border-radius:20px;font-size:.75rem;font-weight:600}.routine-description[_ngcontent-%COMP%]{margin:0;color:#718096;line-height:1.6}.routine-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem;background:#f7fafc;border-radius:8px}.routine-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.routine-stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#718096;font-size:.875rem}.routine-stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#2d3748;font-weight:700}.weekly-schedule[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;color:#2d3748;font-size:1rem}.days-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.day-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;background:#f7fafc;border-radius:6px;border-left:3px solid #e2e8f0}.day-item.completed[_ngcontent-%COMP%]{background:#f0fdf4;border-left-color:#48bb78}.day-name[_ngcontent-%COMP%]{font-weight:700;color:#2d3748;min-width:80px}.day-focus[_ngcontent-%COMP%]{flex:1;color:#718096;font-size:.95rem}.check-icon[_ngcontent-%COMP%]{color:#48bb78;font-weight:700;font-size:1.25rem}.progress-section[_ngcontent-%COMP%]{margin-top:1.5rem}.weekly-chart[_ngcontent-%COMP%]{padding:1rem 0}.chart-bars[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-end;height:200px;gap:1rem}.chart-day[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;flex:1}.bar-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:flex-end;justify-content:center}.bar[_ngcontent-%COMP%]{width:60%;background:linear-gradient(180deg,#e53e3e,#c53030);border-radius:4px 4px 0 0;position:relative;min-height:20px;display:flex;align-items:flex-start;justify-content:center;padding-top:.25rem}.bar-value[_ngcontent-%COMP%]{color:#fff;font-size:.75rem;font-weight:700}.day-label[_ngcontent-%COMP%]{color:#718096;font-size:.875rem;font-weight:600}.exercise-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:1rem}.exercise-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem}.exercise-item.completado[_ngcontent-%COMP%]{opacity:.6;background:#f0fff4}.exercise-item.completado[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-decoration:line-through}.notas[_ngcontent-%COMP%]{margin:.5rem 0 0;padding:.5rem;background:#f7fafc;border-radius:6px;color:#4a5568;font-size:.875rem}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:#718096}@media (max-width: 768px){.mis-ejercicios-container[_ngcontent-%COMP%]{padding:1rem}.content-grid[_ngcontent-%COMP%], .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{Y as MisEjerciciosComponent};
