import"./chunk-NC5QR3MB.js";import"./chunk-MAATLB7P.js";import"./chunk-BPEDRXM3.js";import"./chunk-C7M7CJCW.js";import{i as de,m as ce,n as pe,o as me}from"./chunk-I4C4K3VC.js";import{A as le,z as se}from"./chunk-6AXQUQX5.js";import{a as m}from"./chunk-KI3L427B.js";import{a as ge}from"./chunk-F5B3K5RO.js";import"./chunk-6ULEJF3H.js";import{b as k,c as f,d as E,e as N,f as ae}from"./chunk-LBN5CU62.js";import{a as oe}from"./chunk-NZVHEJ25.js";import{Bb as I,Db as C,Eb as Z,Fb as w,Fc as ne,Kc as _,Na as l,Rb as y,Sb as W,Sc as ie,Tb as a,Tc as re,Ub as h,Vb as Q,Z as d,_a as g,bc as X,ca as A,cb as Y,da as T,ea as p,eb as F,fa as M,gc as ee,ic as te,k as B,la as q,na as b,nb as O,ob as P,rb as J,sb as K,tb as L,ub as t,vb as i,wb as c,xb as u,y as $,yb as x,zb as S}from"./chunk-N5FZ7NRP.js";import"./chunk-2VMXMS7J.js";var fe=(e,o)=>{let n=d(m),r=d(f);return n.isAuthenticated()?!0:(r.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)};var ue=(e,o)=>{let n=d(m),r=d(f);return n.isAuthenticated()&&n.isAdmin()?!0:(r.navigate(["/"]),!1)};var z=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=g({type:e,selectors:[["app-landing-layout"]],decls:15,vars:0,consts:[[1,"landing-layout"],[1,"landing-header"],[1,"header-content"],["routerLink","/",1,"logo"],[1,"logo-icon"],[1,"logo-text"],[1,"logo-highlight"],[1,"landing-main"],[1,"landing-footer"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"a",3)(4,"span",4),a(5,"\u{1F957}"),i(),t(6,"span",5),a(7,"Nutri"),t(8,"span",6),a(9,"Track"),i()()()()(),t(10,"main",7),c(11,"router-outlet"),i(),t(12,"footer",8)(13,"p"),a(14,"\xA9 2025 Nutritrack App. Todos los derechos reservados por el equipo de nutritrack."),i()()())},dependencies:[_,k,E],styles:["[_nghost-%COMP%]{--color-primary: #16a34a;--color-secondary: #64748B;--color-light: #F5F5F5;--color-white: #FFFFFF}.landing-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background:var(--color-light)}.landing-header[_ngcontent-%COMP%]{background:var(--color-white);box-shadow:0 2px 4px #0000001a;padding:1rem 2rem}.header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.logo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;text-decoration:none;font-size:1.5rem;font-weight:700}.logo-icon[_ngcontent-%COMP%]{font-size:2rem}.logo-text[_ngcontent-%COMP%]{color:var(--color-primary)}.logo-highlight[_ngcontent-%COMP%]{color:var(--color-secondary)}.landing-main[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;background:linear-gradient(148deg,#667eea,#764ba2)}.landing-footer[_ngcontent-%COMP%]{background:var(--color-primary);padding:1.5rem;text-align:center;color:var(--color-white)}.landing-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;opacity:.8}"]})};function Ce(e,o){e&1&&(p(),t(0,"svg",7),c(1,"polyline",54),i())}function _e(e,o){e&1&&(p(),t(0,"svg",7),c(1,"polyline",55),i())}function Me(e,o){e&1&&(t(0,"div",38)(1,"div",10)(2,"span",56),a(3,"Admin"),i()(),t(4,"a",57)(5,"div",12),p(),t(6,"svg",13),c(7,"path",58)(8,"path",59),i()(),M(),t(9,"span",18),a(10,"Panel Admin"),i(),t(11,"span",19),a(12,"Panel Admin"),i()()())}var U=class e{authService=d(m);router=d(f);STORAGE_KEY="nutritrack_sidebar_state";sidebarToggle=new F;isCollapsed=b(!0);isPinned=b(!1);isHovered=b(!1);ngOnInit(){this.loadSavedState(),this.emitState()}loadSavedState(){try{let o=localStorage.getItem(this.STORAGE_KEY);if(o){let n=JSON.parse(o);this.isPinned.set(n.pinned??!1),this.isCollapsed.set(n.collapsed??!0)}}catch{}}saveState(){let o={pinned:this.isPinned(),collapsed:this.isCollapsed()};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(o))}onMouseEnter(){this.isHovered.set(!0)}onMouseLeave(){this.isHovered.set(!1)}togglePin(){let o=!this.isPinned();this.isPinned.set(o),o?this.isCollapsed.set(!1):this.isCollapsed.set(!0),this.saveState(),this.emitState()}emitState(){let o=this.isCollapsed()&&!this.isPinned();this.sidebarToggle.emit(o)}isAdmin(){return this.authService.isAdmin()}getUserInitial(){let o=this.authService.currentUser()?.nombre;return o?o.charAt(0).toUpperCase():"U"}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=g({type:e,selectors:[["app-sidebar"]],outputs:{sidebarToggle:"sidebarToggle"},decls:85,vars:12,consts:[[1,"sidebar",3,"mouseenter","mouseleave"],[1,"sidebar-header"],["routerLink","/dashboard",1,"logo"],[1,"logo-icon"],[1,"logo-text"],[1,"logo-highlight"],[1,"pin-btn",3,"click","title"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"sidebar-nav"],[1,"nav-section"],[1,"section-title"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item"],[1,"nav-icon-wrapper"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x","3","y","3","width","7","height","7","rx","1"],["x","14","y","3","width","7","height","7","rx","1"],["x","14","y","14","width","7","height","7","rx","1"],["x","3","y","14","width","7","height","7","rx","1"],[1,"nav-text"],[1,"nav-tooltip"],["routerLink","/comidas","routerLinkActive","active",1,"nav-item"],["d","M18 8h1a4 4 0 0 1 0 8h-1"],["d","M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"],["x1","6","y1","1","x2","6","y2","4"],["x1","10","y1","1","x2","10","y2","4"],["x1","14","y1","1","x2","14","y2","4"],["routerLink","/ejercicios","routerLinkActive","active",1,"nav-item"],["d","M6.5 6.5L17.5 17.5"],["d","M6.5 6.5l-3.5 3.5"],["d","M6.5 6.5l3.5-3.5"],["d","M17.5 17.5l3.5-3.5"],["d","M17.5 17.5l-3.5 3.5"],["cx","6.5","cy","6.5","r","2.5"],["cx","17.5","cy","17.5","r","2.5"],["routerLink","/metas","routerLinkActive","active",1,"nav-item"],["cx","12","cy","12","r","10"],["cx","12","cy","12","r","6"],["cx","12","cy","12","r","2"],[1,"nav-section","admin-section"],[1,"nav-spacer"],[1,"user-section"],["routerLink","/perfil",1,"user-profile-link"],[1,"user-avatar"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"nav-tooltip","user-tooltip"],["title","Cerrar sesi\xF3n",1,"logout-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16 17 21 12 16 7"],["x1","21","y1","12","x2","9","y2","12"],[1,"logout-text"],[1,"nav-tooltip","logout-tooltip"],["points","15 18 9 12 15 6"],["points","9 18 15 12 9 6"],[1,"admin-badge"],["routerLink","/admin","routerLinkActive","active",1,"nav-item","admin-item"],["d","M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1Z"]],template:function(n,r){if(n&1&&(t(0,"aside",0),C("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),t(1,"div",1)(2,"a",2)(3,"span",3),a(4,"\u{1F957}"),i(),t(5,"span",4),a(6,"Nutri"),t(7,"span",5),a(8,"Track"),i()()(),t(9,"button",6),C("click",function(){return r.togglePin()}),O(10,Ce,2,0,":svg:svg",7)(11,_e,2,0,":svg:svg",7),i()(),t(12,"nav",8)(13,"div",9)(14,"div",10),a(15,"Principal"),i(),t(16,"a",11)(17,"div",12),p(),t(18,"svg",13),c(19,"rect",14)(20,"rect",15)(21,"rect",16)(22,"rect",17),i()(),M(),t(23,"span",18),a(24,"Dashboard"),i(),t(25,"span",19),a(26,"Dashboard"),i()(),t(27,"a",20)(28,"div",12),p(),t(29,"svg",13),c(30,"path",21)(31,"path",22)(32,"line",23)(33,"line",24)(34,"line",25),i()(),M(),t(35,"span",18),a(36,"Mis Comidas"),i(),t(37,"span",19),a(38,"Mis Comidas"),i()(),t(39,"a",26)(40,"div",12),p(),t(41,"svg",13),c(42,"path",27)(43,"path",28)(44,"path",29)(45,"path",30)(46,"path",31)(47,"circle",32)(48,"circle",33),i()(),M(),t(49,"span",18),a(50,"Mis Ejercicios"),i(),t(51,"span",19),a(52,"Mis Ejercicios"),i()(),t(53,"a",34)(54,"div",12),p(),t(55,"svg",13),c(56,"circle",35)(57,"circle",36)(58,"circle",37),i()(),M(),t(59,"span",18),a(60,"Mis Metas"),i(),t(61,"span",19),a(62,"Mis Metas"),i()()(),O(63,Me,13,0,"div",38),c(64,"div",39),t(65,"div",40)(66,"a",41)(67,"div",42),a(68),i(),t(69,"div",43)(70,"span",44),a(71),i(),t(72,"span",45),a(73),i()(),t(74,"span",46),a(75,"Mi Perfil"),i()(),t(76,"button",47),C("click",function(){return r.logout()}),p(),t(77,"svg",48),c(78,"path",49)(79,"polyline",50)(80,"line",51),i(),M(),t(81,"span",52),a(82,"Salir"),i(),t(83,"span",53),a(84,"Cerrar Sesi\xF3n"),i()()()()()),n&2){let s;y("collapsed",r.isCollapsed())("hovered",r.isHovered())("pinned",r.isPinned()),l(9),L("title",r.isPinned()?"Expandir al pasar mouse":"Mantener compacto"),l(),P(r.isPinned()?10:11),l(53),P(r.isAdmin()?63:-1),l(5),Q(" ",r.getUserInitial()," "),l(3),h(((s=r.authService.currentUser())==null?null:s.nombre)||"Usuario"),l(2),h(r.isAdmin()?"Administrador":"Usuario")}},dependencies:[_,E,N],styles:['[_nghost-%COMP%]{--sidebar-expanded: 240px;--sidebar-collapsed: 72px;--transition-speed: .25s}.sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:0;height:100vh;width:var(--sidebar-expanded);background:linear-gradient(180deg,#fff,#f8fafc);border-right:1px solid #e2e8f0;display:flex;flex-direction:column;transition:width var(--transition-speed) cubic-bezier(.4,0,.2,1);z-index:1000;overflow:hidden}.sidebar[_ngcontent-%COMP%]:hover, .sidebar.hovered[_ngcontent-%COMP%]{box-shadow:4px 0 24px #00000014}.sidebar.collapsed[_ngcontent-%COMP%]{width:var(--sidebar-collapsed)}.sidebar.collapsed[_ngcontent-%COMP%]:not(.pinned):hover{width:var(--sidebar-expanded)}.sidebar.collapsed.pinned[_ngcontent-%COMP%]{width:var(--sidebar-expanded)}.sidebar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid #e2e8f0;min-height:64px;overflow:hidden}.logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;text-decoration:none;white-space:nowrap}.logo-icon[_ngcontent-%COMP%]{font-size:1.6rem;flex-shrink:0}.logo-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#22c55e;opacity:1;transition:opacity var(--transition-speed),width var(--transition-speed)}.sidebar.collapsed[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{opacity:0;width:0}.sidebar.collapsed[_ngcontent-%COMP%]:not(.pinned):hover   .logo-text[_ngcontent-%COMP%]{opacity:1;width:auto}.logo-highlight[_ngcontent-%COMP%]{color:#3b82f6}.pin-btn[_ngcontent-%COMP%]{width:28px;height:28px;min-width:28px;border-radius:6px;border:none;background:#f1f5f9;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.pin-btn[_ngcontent-%COMP%]:hover{background:#dbeafe;color:#3b82f6}.sidebar.collapsed[_ngcontent-%COMP%]   .pin-btn[_ngcontent-%COMP%]{opacity:0;pointer-events:none}.sidebar.collapsed[_ngcontent-%COMP%]:not(.pinned):hover   .pin-btn[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.sidebar-nav[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:12px 8px;overflow-y:auto;overflow-x:hidden}.nav-section[_ngcontent-%COMP%]{margin-bottom:8px}.nav-spacer[_ngcontent-%COMP%]{flex:1}.admin-section[_ngcontent-%COMP%]{border-top:1px solid #fbbf24;padding-top:12px;margin-top:8px;background:linear-gradient(180deg,rgba(251,191,36,.05) 0%,transparent 100%)}.section-title[_ngcontent-%COMP%]{font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#94a3b8;padding:8px 12px 4px;white-space:nowrap;overflow:hidden;transition:opacity var(--transition-speed)}.sidebar.collapsed[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{opacity:0}.sidebar.collapsed[_ngcontent-%COMP%]:not(.pinned):hover   .section-title[_ngcontent-%COMP%]{opacity:1}.admin-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#fff;padding:2px 8px;border-radius:4px;font-size:.65rem}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 12px;margin:2px 0;border-radius:12px;color:#64748b;text-decoration:none;transition:all .2s ease;position:relative;cursor:pointer;overflow:hidden}.nav-item[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#3b82f6}.nav-item[_ngcontent-%COMP%]:hover   .nav-icon-wrapper[_ngcontent-%COMP%]{background:#dbeafe;color:#3b82f6}.nav-item.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#eff6ff);color:#3b82f6}.nav-item.active[_ngcontent-%COMP%]   .nav-icon-wrapper[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;box-shadow:0 4px 12px #3b82f64d}.nav-item.admin-item[_ngcontent-%COMP%]:hover   .nav-icon-wrapper[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.nav-item.admin-item.active[_ngcontent-%COMP%]   .nav-icon-wrapper[_ngcontent-%COMP%]{background:#f59e0b;color:#fff;box-shadow:0 4px 12px #f59e0b4d}.nav-icon-wrapper[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;border-radius:10px;background:#f1f5f9;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s ease}.nav-text[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;white-space:nowrap;opacity:1;transition:opacity var(--transition-speed)}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{opacity:0}.sidebar.collapsed[_ngcontent-%COMP%]:not(.pinned):hover   .nav-text[_ngcontent-%COMP%]{opacity:1}.nav-tooltip[_ngcontent-%COMP%]{position:absolute;left:calc(var(--sidebar-collapsed) + 8px);background:#1e293b;color:#fff;padding:8px 12px;border-radius:8px;font-size:.85rem;font-weight:500;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s ease,transform .2s ease;transform:translate(-8px);z-index:1001;box-shadow:0 4px 12px #00000026}.nav-tooltip[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-6px;top:50%;transform:translateY(-50%);border:6px solid transparent;border-right-color:#1e293b}.sidebar.collapsed.pinned[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover   .nav-tooltip[_ngcontent-%COMP%], .sidebar.collapsed.pinned[_ngcontent-%COMP%]   .user-profile-link[_ngcontent-%COMP%]:hover   .nav-tooltip[_ngcontent-%COMP%], .sidebar.collapsed.pinned[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover   .nav-tooltip[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.user-section[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0;padding:12px 8px;margin-top:auto}.user-profile-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 12px;border-radius:12px;text-decoration:none;color:#475569;transition:all .2s ease;position:relative;cursor:pointer}.user-profile-link[_ngcontent-%COMP%]:hover{background:#f1f5f9}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;border-radius:10px;background:linear-gradient(135deg,#22c55e,#16a34a);display:flex;align-items:center;justify-content:center;color:#fff;font-size:1rem;font-weight:600;flex-shrink:0}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;opacity:1;transition:opacity var(--transition-speed)}.sidebar.collapsed[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{opacity:0}.sidebar.collapsed[_ngcontent-%COMP%]:not(.pinned):hover   .user-info[_ngcontent-%COMP%]{opacity:1}.user-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-role[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.logout-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;width:100%;padding:10px 12px;margin-top:8px;border:none;border-radius:12px;background:transparent;color:#64748b;cursor:pointer;transition:all .2s ease;position:relative}.logout-btn[_ngcontent-%COMP%]:hover{background:#fef2f2;color:#dc2626}.logout-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{flex-shrink:0}.logout-text[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500;opacity:1;transition:opacity var(--transition-speed)}.sidebar.collapsed[_ngcontent-%COMP%]   .logout-text[_ngcontent-%COMP%]{opacity:0}.sidebar.collapsed[_ngcontent-%COMP%]:not(.pinned):hover   .logout-text[_ngcontent-%COMP%]{opacity:1}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%)}.sidebar.hovered[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]:not(.collapsed){transform:translate(0)}}']})};var Oe=e=>({exact:e});function Pe(e,o){e&1&&(p(),c(0,"polyline",3))}function we(e,o){e&1&&(p(),c(0,"polyline",4))}function ye(e,o){if(e&1&&(t(0,"a",19)(1,"mat-icon",20),a(2),i(),t(3,"span",21),a(4),i()()),e&2){let n=o.$implicit;L("routerLink",n.route)("routerLinkActiveOptions",X(4,Oe,n.route==="/admin/dashboard")),l(2),h(n.icon),l(2),h(n.label)}}var V=class e{authService=d(m);router=d(f);navItems=[{label:"Dashboard",icon:"dashboard",route:"/admin/dashboard"},{label:"Planes Nutricionales",icon:"menu_book",route:"/admin/planes"},{label:"Rutinas de Ejercicio",icon:"fitness_center",route:"/admin/rutinas"},{label:"Comidas",icon:"restaurant",route:"/admin/comidas"},{label:"Ingredientes",icon:"inventory_2",route:"/admin/ingredientes"},{label:"Ejercicios",icon:"directions_run",route:"/admin/ejercicios"},{label:"Etiquetas",icon:"label",route:"/admin/etiquetas"}];getUserName(){return this.authService.currentUser()?.nombre||"Admin"}getUserInitials(){let o=this.getUserName(),n=o.split(" ");return n.length>=2?(n[0][0]+n[1][0]).toUpperCase():o.substring(0,2).toUpperCase()}onLogout(){confirm("\xBFEst\xE1s seguro de que deseas cerrar sesi\xF3n?")&&this.authService.logout()}sidebarToggle=new F;isCollapsed=b(!1);toggleSidebar(){this.isCollapsed.update(o=>!o),this.sidebarToggle.emit(this.isCollapsed())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=g({type:e,selectors:[["app-admin-sidebar"]],outputs:{sidebarToggle:"sidebarToggle"},decls:28,vars:6,consts:[[1,"admin-sidebar"],["title","Ocultar/Mostrar men\xFA",1,"toggle-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["points","9 18 15 12 9 6"],["points","15 18 9 12 15 6"],[1,"sidebar-header"],[1,"brand"],[1,"brand-icon"],[1,"brand-text"],[1,"user-section"],[1,"user-avatar"],[1,"avatar-fallback"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"sidebar-nav"],["routerLinkActive","active","class","nav-item","mat-ripple","",3,"routerLink","routerLinkActiveOptions",4,"ngFor","ngForOf"],[1,"sidebar-footer"],["mat-button","",1,"logout-btn",3,"click"],["routerLinkActive","active","mat-ripple","",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],[1,"nav-icon"],[1,"nav-label"]],template:function(n,r){n&1&&(t(0,"aside",0)(1,"button",1),C("click",function(){return r.toggleSidebar()}),p(),t(2,"svg",2),O(3,Pe,1,0,":svg:polyline",3)(4,we,1,0,":svg:polyline",4),i()(),M(),t(5,"div",5)(6,"div",6)(7,"mat-icon",7),a(8,"spa"),i(),t(9,"span",8),a(10,"NutriTrack"),i()()(),t(11,"div",9)(12,"div",10)(13,"div",11),a(14),i()(),t(15,"div",12)(16,"p",13),a(17),i(),t(18,"p",14),a(19,"Administrador"),i()()(),t(20,"nav",15),Y(21,ye,5,6,"a",16),i(),t(22,"div",17)(23,"button",18),C("click",function(){return r.onLogout()}),t(24,"mat-icon"),a(25,"logout"),i(),t(26,"span"),a(27,"Cerrar Sesi\xF3n"),i()()()()),n&2&&(y("collapsed",r.isCollapsed()),l(3),P(r.isCollapsed()?3:4),l(11),h(r.getUserInitials()),l(3),h(r.getUserName()),l(4),L("ngForOf",r.navItems))},dependencies:[_,ne,E,N,le,se,me,pe,ce,de],styles:[".admin-sidebar[_ngcontent-%COMP%]{width:260px;height:100vh;background:linear-gradient(180deg,#003d2a,#002820);color:#fff;display:flex;flex-direction:column;box-shadow:2px 0 10px #0000001a;position:fixed;left:0;top:0;z-index:100}.admin-sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(calc(-1 * var(--sidebar-width)))}.toggle-btn[_ngcontent-%COMP%]{position:absolute;right:-25px;top:calc(50vh - 100px);width:25px;height:200px;background:var(--color-secondary);color:var(--color-text-light);border:none;box-shadow:0 2px 8px #667eea4d;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition-base);z-index:var(--z-index-fixed)}.toggle-btn[_ngcontent-%COMP%]:hover{background:var(--color-secondary-dark);box-shadow:0 4px 12px #667eea80;transform:scale(1.05)}.toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:var(--transition-base)}.sidebar-header[_ngcontent-%COMP%]{padding:1.5rem 1rem;border-bottom:1px solid rgba(255,255,255,.1)}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.brand-icon[_ngcontent-%COMP%]{color:#00a859;font-size:28px;width:28px;height:28px}.brand-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff;letter-spacing:.5px}.user-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem 1rem;border-bottom:1px solid rgba(255,255,255,.1)}.user-avatar[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;border-radius:50%;overflow:hidden;flex-shrink:0}.avatar-fallback[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%;background:linear-gradient(135deg,#00a859,#007a42);color:#fff;font-weight:600;font-size:1.125rem;border-radius:50%}.user-info[_ngcontent-%COMP%]{flex:1;min-width:0}.user-name[_ngcontent-%COMP%]{margin:0 0 .25rem;font-weight:600;font-size:.9375rem;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-role[_ngcontent-%COMP%]{margin:0;font-size:.8125rem;color:#00a859;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1rem 0;overflow-y:auto}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.875rem 1.5rem;color:#fffc;text-decoration:none;transition:all .2s ease;cursor:pointer;border-left:3px solid transparent;font-size:.9375rem;font-weight:500;min-height:44px}.nav-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.nav-item.active[_ngcontent-%COMP%]{background:#00a85926;color:#00a859;border-left-color:#00a859}.nav-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px;flex-shrink:0}.nav-label[_ngcontent-%COMP%]{flex:1;line-height:1.3;word-break:break-word}.sidebar-footer[_ngcontent-%COMP%]{padding:1rem;border-top:1px solid rgba(255,255,255,.1)}.logout-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;gap:1rem;padding:.875rem 1rem;color:#fffc;font-size:.9375rem;font-weight:500;text-transform:none;letter-spacing:normal}.logout-btn[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff}.logout-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:22px;width:22px;height:22px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff0d}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.sidebar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}@media (max-width: 768px){.admin-sidebar[_ngcontent-%COMP%]{transform:translate(-100%);transition:transform .3s ease}.admin-sidebar.mobile-open[_ngcontent-%COMP%]{transform:translate(0)}}"]})};function Se(e,o){if(e&1){let n=I();t(0,"div",1)(1,"app-admin-sidebar",2),C("sidebarToggle",function(s){A(n);let v=w();return T(v.onSidebarToggle(s))}),i()(),t(2,"div",3)(3,"main",4),c(4,"router-outlet"),i()()}if(e&2){let n=w();l(2),y("collapsed",n.sidebarCollapsed())}}function ke(e,o){if(e&1){let n=I();t(0,"app-sidebar",2),C("sidebarToggle",function(s){A(n);let v=w();return T(v.onSidebarToggle(s))}),i(),t(1,"div",3)(2,"main",4),c(3,"router-outlet"),i()()}if(e&2){let n=w();l(),y("collapsed",n.sidebarCollapsed())}}var H=class e{sidebarCollapsed=b(!0);authService=d(m);router=d(f);isAdmin=te(()=>this.authService.currentUser()?.role==="ROLE_ADMIN");isAdminRoute(){return this.router.url.startsWith("/admin")}onSidebarToggle(o){this.sidebarCollapsed.set(o)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=g({type:e,selectors:[["app-auth-layout"]],decls:3,vars:1,consts:[[1,"auth-layout"],[1,"sidebar-wrapper"],[3,"sidebarToggle"],[1,"content-wrapper"],[1,"auth-main"]],template:function(n,r){n&1&&(t(0,"div",0),O(1,Se,5,2)(2,ke,4,2),i()),n&2&&(l(),P(r.isAdminRoute()?1:2))},dependencies:[_,k,U,V],styles:["[_nghost-%COMP%]{--sidebar-expanded: 240px;--sidebar-collapsed: 72px}.auth-layout[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;position:relative}.content-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:100vh;margin-left:var(--sidebar-expanded);transition:margin-left .25s cubic-bezier(.4,0,.2,1);width:calc(100% - var(--sidebar-expanded))}.content-wrapper.collapsed[_ngcontent-%COMP%]{margin-left:var(--sidebar-collapsed);width:calc(100% - var(--sidebar-collapsed))}.auth-main[_ngcontent-%COMP%]{flex:1;padding:24px;background:#f8fafc}@media (max-width: 768px){.content-wrapper[_ngcontent-%COMP%], .content-wrapper.collapsed[_ngcontent-%COMP%]{margin-left:0;width:100%}}"]})};var he=[{path:"",loadChildren:()=>import("./chunk-HLD7VS2I.js").then(e=>e.HOME_ROUTES)},{path:"",component:z,children:[{path:"",loadChildren:()=>import("./chunk-NXZWY6EM.js").then(e=>e.AUTH_ROUTES)}]},{path:"onboarding",loadChildren:()=>import("./chunk-ZQC5SS37.js").then(e=>e.ONBOARDING_ROUTES)},{path:"",component:H,canActivate:[fe],children:[{path:"dashboard",loadChildren:()=>import("./chunk-VA4L5LTR.js").then(e=>e.DASHBOARD_ROUTES)},{path:"comidas",loadChildren:()=>import("./chunk-ZNQ6O2AB.js").then(e=>e.COMIDAS_ROUTES)},{path:"ejercicios",loadChildren:()=>import("./chunk-OIUOB5UK.js").then(e=>e.EJERCICIOS_ROUTES)},{path:"usuario",loadChildren:()=>import("./chunk-RUUPAG3Q.js").then(e=>e.USUARIO_ROUTES)},{path:"perfil",loadChildren:()=>import("./chunk-LYNQZ625.js").then(e=>e.PERFIL_ROUTES)},{path:"metas",loadChildren:()=>import("./chunk-W2YWIVUQ.js").then(e=>e.METAS_ROUTES)},{path:"admin",canActivate:[ue],loadChildren:()=>import("./chunk-BMA6PJCJ.js").then(e=>e.ADMIN_ROUTES)}]},{path:"**",redirectTo:""}];var ve=(e,o)=>{let r=d(m).getToken();if(r){let s=e.clone({setHeaders:{Authorization:`Bearer ${r}`}});return o(s)}return o(e)};var be=(e,o)=>{let n=d(f),r=d(m);return o(e).pipe($(s=>{let v="Ocurri\xF3 un error";return s.error instanceof ErrorEvent?v=s.error.message:(v=s.error?.message||s.message,s.status===401&&(r.logout(),n.navigate(["/login"])),s.status===403&&n.navigate(["/"])),console.error("Intercepted Error:",v),B(()=>({status:s.status,message:v}))}))};var xe={providers:[q(),ee(),ae(he),ie(re([ve,be]))]};var Ee=(e,o)=>o.id;function Ae(e,o){e&1&&(p(),u(0,"svg",4),S(1,"path",12)(2,"polyline",13),x())}function Te(e,o){e&1&&(p(),u(0,"svg",4),S(1,"circle",14)(2,"line",15)(3,"line",16),x())}function Le(e,o){e&1&&(p(),u(0,"svg",4),S(1,"path",17)(2,"line",18)(3,"line",19),x())}function Ie(e,o){e&1&&(p(),u(0,"svg",4),S(1,"circle",14)(2,"line",20)(3,"line",21),x())}function Re(e,o){if(e&1){let n=I();u(0,"div",2)(1,"div",3),O(2,Ae,3,0,":svg:svg",4)(3,Te,4,0,":svg:svg",4)(4,Le,4,0,":svg:svg",4)(5,Ie,4,0,":svg:svg",4),x(),u(6,"div",5)(7,"div",6),a(8),x(),u(9,"div",7),a(10),x()(),u(11,"button",8),Z("click",function(){let s=A(n).$implicit,v=w();return T(v.close(s.id))}),p(),u(12,"svg",9),S(13,"line",10)(14,"line",11),x()()()}if(e&2){let n,r=o.$implicit;W("toast-"+r.type),l(2),P((n=r.type)==="success"?2:n==="error"?3:n==="warning"?4:n==="info"?5:-1),l(6),h(r.title),l(2),h(r.message)}}var G=class e{notificationService=d(ge);close(o){this.notificationService.remove(o)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=g({type:e,selectors:[["app-toast"]],decls:3,vars:0,consts:[[1,"toast-container"],[1,"toast",3,"class"],[1,"toast"],[1,"toast-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],[1,"toast-content"],[1,"toast-title"],[1,"toast-message"],["aria-label","Cerrar",1,"toast-close",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22 4 12 14.01 9 11.01"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["x1","12","y1","16","x2","12","y2","12"],["x1","12","y1","8","x2","12.01","y2","8"]],template:function(n,r){n&1&&(u(0,"div",0),J(1,Re,15,5,"div",1,Ee),x()),n&2&&(l(),K(r.notificationService.notifications$()))},dependencies:[_],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:12px;max-width:400px}.toast[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;animation:_ngcontent-%COMP%_slideIn .3s ease-out;border-left:4px solid}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast-success[_ngcontent-%COMP%]{border-left-color:#28a745}.toast-error[_ngcontent-%COMP%]{border-left-color:#dc3545}.toast-warning[_ngcontent-%COMP%]{border-left-color:#ffc107}.toast-info[_ngcontent-%COMP%]{border-left-color:#17a2b8}.toast-icon[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px}.toast-success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#28a745}.toast-error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#dc3545}.toast-warning[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#ffc107}.toast-info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#17a2b8}.toast-content[_ngcontent-%COMP%]{flex:1;min-width:0}.toast-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:#333;margin-bottom:4px}.toast-message[_ngcontent-%COMP%]{font-size:.875rem;color:#666;line-height:1.4}.toast-close[_ngcontent-%COMP%]{flex-shrink:0;width:24px;height:24px;padding:0;background:none;border:none;color:#999;cursor:pointer;transition:color .2s;display:flex;align-items:center;justify-content:center}.toast-close[_ngcontent-%COMP%]:hover{color:#333}@media (max-width: 480px){.toast-container[_ngcontent-%COMP%]{left:10px;right:10px;top:70px;max-width:none}}"]})};var j=class e{title=b("nutritrack-webapp");static \u0275fac=function(n){return new(n||e)};static \u0275cmp=g({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&c(0,"router-outlet")(1,"app-toast")},dependencies:[k,G],encapsulation:2})};oe(j,xe).catch(e=>console.error(e));
