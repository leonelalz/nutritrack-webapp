import{a as X}from"./chunk-WGABE6ZC.js";import{A as B,z as R}from"./chunk-6AXQUQX5.js";import{a as Q}from"./chunk-OBWTC55X.js";import{c as U,g as W,j as G,l as j,p as J,q as H,r as Y,t as Z,w as $}from"./chunk-M75YHKAC.js";import{a as K}from"./chunk-F5B3K5RO.js";import"./chunk-6ULEJF3H.js";import"./chunk-NZVHEJ25.js";import{Bb as b,Db as p,Fb as d,Kc as N,Na as l,Rb as L,Tb as i,Ub as u,Vb as _,Wb as w,Xb as h,Yb as E,Z as I,Zb as P,_a as q,ca as g,da as m,ea as A,fa as T,na as k,nb as x,ob as C,qb as z,rb as S,sb as v,tb as M,ub as t,vb as n,wb as O}from"./chunk-N5FZ7NRP.js";import{a as F,b as D}from"./chunk-2VMXMS7J.js";var V=(f=>(f.FRUTAS="FRUTAS",f.VERDURAS="VERDURAS",f.CEREALES="CEREALES",f.LEGUMBRES="LEGUMBRES",f.PROTEINAS="PROTEINAS",f.LACTEOS="LACTEOS",f.GRASAS_SALUDABLES="GRASAS_SALUDABLES",f.AZUCARES="AZUCARES",f.BEBIDAS="BEBIDAS",f.CONDIMENTOS="CONDIMENTOS",f.FRUTOS_SECOS="FRUTOS_SECOS",f.SEMILLAS="SEMILLAS",f.TUBERCULOS="TUBERCULOS",f.OTRO="OTRO",f))(V||{}),ee={FRUTAS:"Frutas",VERDURAS:"Verduras",CEREALES:"Cereales",LEGUMBRES:"Legumbres",PROTEINAS:"Prote\xEDnas",LACTEOS:"L\xE1cteos",GRASAS_SALUDABLES:"Grasas Saludables",AZUCARES:"Az\xFAcares",BEBIDAS:"Bebidas",CONDIMENTOS:"Condimentos",FRUTOS_SECOS:"Frutos Secos",SEMILLAS:"Semillas",TUBERCULOS:"Tub\xE9rculos",OTRO:"Otro"},te={FRUTAS:"\u{1F34E}",VERDURAS:"\u{1F96C}",CEREALES:"\u{1F33E}",LEGUMBRES:"\u{1FAD8}",PROTEINAS:"\u{1F357}",LACTEOS:"\u{1F95B}",GRASAS_SALUDABLES:"\u{1F951}",AZUCARES:"\u{1F36C}",BEBIDAS:"\u{1F964}",CONDIMENTOS:"\u{1F9C2}",FRUTOS_SECOS:"\u{1F95C}",SEMILLAS:"\u{1F330}",TUBERCULOS:"\u{1F954}",OTRO:"\u{1F4E6}"};var y=(s,r)=>r.id;function ie(s,r){if(s&1){let e=b();t(0,"button",29),p("click",function(){let o=g(e).$implicit,c=d();return m(c.filtrarPorCategoria(o))}),i(1),n()}if(s&2){let e=r.$implicit,a=d();L("active",a.categoriaFiltro===e),l(),w(" ",a.getCategoriaIcon(e)," ",a.getCategoriaLabel(e)," ")}}function oe(s,r){s&1&&(t(0,"div",31),O(1,"div",35),t(2,"p"),i(3,"Cargando ingredientes..."),n()())}function re(s,r){if(s&1&&(t(0,"span",50),i(1),n()),s&2){let e=r.$implicit;l(),u(e.nombre)}}function ae(s,r){if(s&1&&(t(0,"span",51),i(1),n()),s&2){let e=d().$implicit;l(),_("+",e.etiquetas.length-2)}}function le(s,r){if(s&1){let e=b();t(0,"tr")(1,"td")(2,"span",43),i(3),n()(),t(4,"td")(5,"div",44)(6,"span",45),i(7),n(),t(8,"span"),i(9),n()()(),t(10,"td")(11,"span",46),i(12),n()(),t(13,"td")(14,"span",47),i(15),n(),t(16,"span",48),i(17,"kcal"),n()(),t(18,"td")(19,"span",47),i(20),n(),t(21,"span",48),i(22,"g"),n()(),t(23,"td")(24,"span",47),i(25),n(),t(26,"span",48),i(27,"g"),n()(),t(28,"td")(29,"span",47),i(30),n(),t(31,"span",48),i(32,"g"),n()(),t(33,"td")(34,"div",49),S(35,re,2,1,"span",50,y),x(37,ae,2,1,"span",51),n()(),t(38,"td",38)(39,"div",52)(40,"button",53),p("click",function(){let o=g(e).$implicit,c=d(2);return m(c.abrirModalEditar(o))}),A(),t(41,"svg",54),O(42,"path",55),n()(),T(),t(43,"button",56),p("click",function(){let o=g(e).$implicit,c=d(2);return m(c.confirmarEliminar(o))}),A(),t(44,"svg",54),O(45,"path",57),n()()()()()}if(s&2){let e=r.$implicit,a=d(2);l(3),_("#",e.id),l(4),u(a.getCategoriaIcon(e.categoriaAlimento)),l(2),u(e.nombre),l(3),_(" ",a.getCategoriaLabel(e.categoriaAlimento)," "),l(3),u(e.energia),l(5),u(e.proteinas),l(5),u(e.carbohidratos),l(5),u(e.grasas),l(5),v(e.etiquetas.slice(0,2)),l(2),C(e.etiquetas.length>2?37:-1)}}function se(s,r){if(s&1){let e=b();t(0,"div",39)(1,"div",58),i(2," Mostrando "),t(3,"strong"),i(4),n(),i(5," de "),t(6,"strong"),i(7),n(),i(8," resultados "),n(),t(9,"div",59)(10,"button",60),p("click",function(){g(e);let o=d(2);return m(o.cambiarPagina(o.currentPage-1))}),i(11," Anterior "),n(),t(12,"span",61),i(13),n(),t(14,"button",60),p("click",function(){g(e);let o=d(2);return m(o.cambiarPagina(o.currentPage+1))}),i(15," Siguiente "),n()()()}if(s&2){let e=d(2);l(4),u(e.ingredientes().length),l(3),u(e.totalElements),l(3),M("disabled",e.currentPage===0),l(3),w(" P\xE1gina ",e.currentPage+1," de ",e.totalPages," "),l(),M("disabled",e.currentPage>=e.totalPages-1)}}function de(s,r){if(s&1&&(t(0,"span",50),i(1),n()),s&2){let e=r.$implicit;l(),u(e.nombre)}}function ce(s,r){if(s&1&&(t(0,"div",71),S(1,de,2,1,"span",50,y),n()),s&2){let e=d().$implicit;l(),v(e.etiquetas)}}function ge(s,r){if(s&1){let e=b();t(0,"div",41)(1,"div",62)(2,"div",63)(3,"span",64),i(4),n(),t(5,"div")(6,"div",65),i(7),n(),t(8,"div",66),i(9),n()()(),t(10,"span",46),i(11),n()(),t(12,"div",67)(13,"div",68)(14,"span",69),i(15,"Energ\xEDa"),n(),t(16,"span",70),i(17),n()(),t(18,"div",68)(19,"span",69),i(20,"Prote\xEDnas"),n(),t(21,"span",70),i(22),n()(),t(23,"div",68)(24,"span",69),i(25,"Carbohidratos"),n(),t(26,"span",70),i(27),n()(),t(28,"div",68)(29,"span",69),i(30,"Grasas"),n(),t(31,"span",70),i(32),n()()(),x(33,ce,3,0,"div",71),t(34,"div",72)(35,"button",73),p("click",function(){let o=g(e).$implicit,c=d(2);return m(c.abrirModalEditar(o))}),i(36," \u270F\uFE0F Editar "),n(),t(37,"button",74),p("click",function(){let o=g(e).$implicit,c=d(2);return m(c.confirmarEliminar(o))}),i(38," \u{1F5D1}\uFE0F Eliminar "),n()()()}if(s&2){let e=r.$implicit,a=d(2);l(4),u(a.getCategoriaIcon(e.categoriaAlimento)),l(3),u(e.nombre),l(2),_("#",e.id),l(2),_(" ",a.getCategoriaLabel(e.categoriaAlimento)," "),l(6),_("",e.energia," kcal"),l(5),_("",e.proteinas,"g"),l(5),_("",e.carbohidratos,"g"),l(5),_("",e.grasas,"g"),l(),C(e.etiquetas.length>0?33:-1)}}function me(s,r){if(s&1){let e=b();t(0,"div",42)(1,"div",75),i(2),t(3,"span"),i(4),n()(),t(5,"div",76)(6,"button",60),p("click",function(){g(e);let o=d(2);return m(o.cambiarPagina(o.currentPage-1))}),i(7," \u2190 Anterior "),n(),t(8,"button",60),p("click",function(){g(e);let o=d(2);return m(o.cambiarPagina(o.currentPage+1))}),i(9," Siguiente \u2192 "),n()()()}if(s&2){let e=d(2);l(2),w(" P\xE1gina ",e.currentPage+1," de ",e.totalPages," "),l(2),w("(",e.ingredientes().length," de ",e.totalElements," resultados)"),l(2),M("disabled",e.currentPage===0),l(2),M("disabled",e.currentPage>=e.totalPages-1)}}function pe(s,r){if(s&1&&(t(0,"div",36)(1,"table",37)(2,"thead")(3,"tr")(4,"th"),i(5,"ID"),n(),t(6,"th"),i(7,"Nombre"),n(),t(8,"th"),i(9,"Categor\xEDa"),n(),t(10,"th"),i(11,"Energ\xEDa"),n(),t(12,"th"),i(13,"Prote\xEDnas"),n(),t(14,"th"),i(15,"Carbohidratos"),n(),t(16,"th"),i(17,"Grasas"),n(),t(18,"th"),i(19,"Etiquetas"),n(),t(20,"th",38),i(21,"Acciones"),n()()(),t(22,"tbody"),S(23,le,46,9,"tr",null,y),n()(),x(25,se,16,6,"div",39),n(),t(26,"div",40),S(27,ge,39,9,"div",41,y),x(29,me,10,6,"div",42),n()),s&2){let e=d();l(23),v(e.ingredientes()),l(2),C(e.totalPages>1?25:-1),l(2),v(e.ingredientes()),l(2),C(e.totalPages>1?29:-1)}}function ue(s,r){if(s&1){let e=b();t(0,"div",32)(1,"div",77),i(2,"\u{1F957}"),n(),t(3,"h3"),i(4,"No hay ingredientes registrados"),n(),t(5,"p"),i(6,"Comienza creando tu primer ingrediente con informaci\xF3n nutricional"),n(),t(7,"button",25),p("click",function(){g(e);let o=d();return m(o.abrirModalCrear())}),t(8,"span"),i(9,"+"),n(),i(10," Nuevo Ingrediente "),n()()}}function _e(s,r){if(s&1&&(t(0,"option",87),i(1),n()),s&2){let e=r.$implicit,a=d(2);M("value",e),l(),w(" ",a.getCategoriaIcon(e)," ",a.getCategoriaLabel(e)," ")}}function fe(s,r){if(s&1){let e=b();t(0,"div",89)(1,"label"),i(2," Nueva Categor\xEDa de Alimento "),t(3,"span",83),i(4,"*"),n()(),t(5,"input",100),P("ngModelChange",function(o){g(e);let c=d(2);return E(c.categoriaPersonalizada,o)||(c.categoriaPersonalizada=o),m(o)}),p("input",function(){g(e);let o=d(2);return m(o.onCategoriaPersonalizadaChange())}),n(),t(6,"span",101),i(7," Se formatear\xE1 autom\xE1ticamente a MAY\xDASCULAS_CON_GUIONES_BAJOS "),n()()}if(s&2){let e=d(2);l(5),h("ngModel",e.categoriaPersonalizada)}}function xe(s,r){if(s&1){let e=b();t(0,"button",102),p("click",function(){let o=g(e).$implicit,c=d(2);return m(c.toggleEtiqueta(o.id))}),i(1),n()}if(s&2){let e=r.$implicit,a=d(2);L("selected",a.isEtiquetaSeleccionada(e.id)),l(),_(" ",e.nombre," ")}}function Ce(s,r){s&1&&(t(0,"p",96),i(1,"No hay etiquetas disponibles"),n())}function be(s,r){if(s&1){let e=b();t(0,"div",78),p("click",function(){g(e);let o=d();return m(o.cerrarModal())}),t(1,"div",79),p("click",function(o){return g(e),m(o.stopPropagation())}),t(2,"div",80)(3,"h2"),i(4),n()(),t(5,"div",81)(6,"div",82)(7,"label"),i(8," Nombre "),t(9,"span",83),i(10,"*"),n()(),t(11,"input",84),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.nombre,o)||(c.formulario.nombre=o),m(o)}),n()(),t(12,"div",82)(13,"label"),i(14," Categor\xEDa "),t(15,"span",83),i(16,"*"),n()(),t(17,"select",85),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.categoriaAlimento,o)||(c.formulario.categoriaAlimento=o),m(o)}),p("change",function(){g(e);let o=d();return m(o.onCategoriaChange())}),t(18,"option",86),i(19,"Selecciona una categor\xEDa"),n(),S(20,_e,2,3,"option",87,z),t(22,"option",88),i(23,"\u2795 Agregar nueva categor\xEDa..."),n()()(),x(24,fe,8,1,"div",89),O(25,"div",82),t(26,"div",90),i(27,"Informaci\xF3n Nutricional (por 100g)"),n(),t(28,"div",91)(29,"div",82)(30,"label"),i(31,"Energ\xEDa (kcal) "),t(32,"span",83),i(33,"*"),n()(),t(34,"input",92),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.energia,o)||(c.formulario.energia=o),m(o)}),n()(),t(35,"div",82)(36,"label"),i(37,"Prote\xEDnas (g) "),t(38,"span",83),i(39,"*"),n()(),t(40,"input",92),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.proteinas,o)||(c.formulario.proteinas=o),m(o)}),n()()(),t(41,"div",91)(42,"div",82)(43,"label"),i(44,"Carbohidratos (g) "),t(45,"span",83),i(46,"*"),n()(),t(47,"input",92),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.carbohidratos,o)||(c.formulario.carbohidratos=o),m(o)}),n()(),t(48,"div",82)(49,"label"),i(50,"Grasas (g) "),t(51,"span",83),i(52,"*"),n()(),t(53,"input",92),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.grasas,o)||(c.formulario.grasas=o),m(o)}),n()()(),t(54,"div",82)(55,"label"),i(56,"Fibra (g)"),n(),t(57,"input",92),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.fibra,o)||(c.formulario.fibra=o),m(o)}),n()(),t(58,"div",82)(59,"label"),i(60,"Descripci\xF3n"),n(),t(61,"textarea",93),P("ngModelChange",function(o){g(e);let c=d();return E(c.formulario.descripcion,o)||(c.formulario.descripcion=o),m(o)}),n()(),t(62,"div",82)(63,"label"),i(64,"Etiquetas"),n(),t(65,"div",94),S(66,xe,2,3,"button",95,y),x(68,Ce,2,0,"p",96),n()()(),t(69,"div",97)(70,"button",98),p("click",function(){g(e);let o=d();return m(o.cerrarModal())}),i(71," Cancelar "),n(),t(72,"button",99),p("click",function(){g(e);let o=d();return m(o.guardar())}),i(73),n()()()()}if(s&2){let e=d();l(4),u(e.ingredienteEditando?"Editar Ingrediente":"Nuevo Ingrediente"),l(7),h("ngModel",e.formulario.nombre),l(6),h("ngModel",e.formulario.categoriaAlimento),l(3),v(e.categorias),l(4),C(e.mostrarCampoCategoriaPersonalizada?24:-1),l(10),h("ngModel",e.formulario.energia),l(6),h("ngModel",e.formulario.proteinas),l(7),h("ngModel",e.formulario.carbohidratos),l(6),h("ngModel",e.formulario.grasas),l(4),h("ngModel",e.formulario.fibra),l(4),h("ngModel",e.formulario.descripcion),l(5),v(e.etiquetasDisponibles()),l(2),C(e.etiquetasDisponibles().length===0?68:-1),l(2),M("disabled",e.guardando),l(2),M("disabled",e.guardando),l(),_(" ",e.guardando?"Guardando...":"Guardar"," ")}}function he(s,r){if(s&1){let e=b();t(0,"div",78),p("click",function(){g(e);let o=d();return m(o.cerrarConfirmacion())}),t(1,"div",103),p("click",function(o){return g(e),m(o.stopPropagation())}),t(2,"div",104)(3,"div",105),i(4,"\u26A0\uFE0F"),n(),t(5,"h3"),i(6,"\xBFEliminar Ingrediente?"),n(),t(7,"p"),i(8," \xBFEst\xE1s seguro de eliminar el ingrediente "),t(9,"strong"),i(10),n(),i(11,"? Esta acci\xF3n no se puede deshacer. "),n()(),t(12,"div",97)(13,"button",98),p("click",function(){g(e);let o=d();return m(o.cerrarConfirmacion())}),i(14," Cancelar "),n(),t(15,"button",106),p("click",function(){g(e);let o=d();return m(o.eliminar())}),i(16),n()()()()}if(s&2){let e=d();l(10),_('"',e.ingredienteAEliminar==null?null:e.ingredienteAEliminar.nombre,'"'),l(3),M("disabled",e.eliminando),l(2),M("disabled",e.eliminando),l(),_(" ",e.eliminando?"Eliminando...":"Eliminar"," ")}}function Ee(s,r){if(s&1){let e=b();t(0,"div",107),p("click",function(){g(e);let o=d();return m(o.cancelarCierre())}),t(1,"div",103),p("click",function(o){return g(e),m(o.stopPropagation())}),t(2,"div",104)(3,"div",105),i(4,"\u26A0\uFE0F"),n(),t(5,"h3"),i(6,"\xBFDescartar cambios?"),n(),t(7,"p"),i(8,"Tienes cambios sin guardar en el formulario. \xBFDeseas descartarlos?"),n()(),t(9,"div",97)(10,"button",108),p("click",function(){g(e);let o=d();return m(o.cancelarCierre())}),i(11," Continuar editando "),n(),t(12,"button",109),p("click",function(){g(e);let o=d();return m(o.confirmarCerrarModal())}),i(13," Descartar cambios "),n()()()()}}var ne=class s{ingredienteService=I(X);etiquetaService=I(Q);notificationService=I(K);loading=k(!1);ingredientes=k([]);etiquetasDisponibles=k([]);currentPage=0;pageSize=20;totalPages=0;totalElements=0;searchTerm="";categoriaFiltro="";searchTimeout;mostrarModal=!1;ingredienteEditando=null;mostrarConfirmacion=!1;ingredienteAEliminar=null;formulario={nombre:"",proteinas:0,carbohidratos:0,grasas:0,energia:0,fibra:0,categoriaAlimento:"",descripcion:"",etiquetaIds:[]};guardando=!1;eliminando=!1;categorias=Object.values(V);mostrarCampoCategoriaPersonalizada=!1;categoriaPersonalizada="";mostrarConfirmacionCerrar=!1;formularioInicial=null;ngOnInit(){this.cargarIngredientes(),this.cargarEtiquetas()}cargarIngredientes(){this.loading.set(!0);let r;this.searchTerm?r=this.ingredienteService.buscarPorNombre(this.searchTerm,this.currentPage,this.pageSize):this.categoriaFiltro?r=this.ingredienteService.filtrarPorCategoria(this.categoriaFiltro,this.currentPage,this.pageSize):r=this.ingredienteService.listar(this.currentPage,this.pageSize),r.subscribe({next:e=>{this.ingredientes.set(e.data.content),this.totalPages=e.data.totalPages,this.totalElements=e.data.totalElements,this.loading.set(!1)},error:e=>{console.error("Error al cargar ingredientes:",e),this.loading.set(!1),e.status?this.notificationService.showHttpError(e.status,e.error?.message||"Error al cargar los ingredientes"):this.notificationService.showError("No se pudieron cargar los ingredientes. Verifica tu conexi\xF3n a internet.")}})}cargarEtiquetas(){this.etiquetaService.listar(0,1e3).subscribe({next:r=>{this.etiquetasDisponibles.set(r.data.content)},error:r=>{console.error("Error al cargar etiquetas:",r)}})}onSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.currentPage=0,this.cargarIngredientes()},500)}filtrarPorCategoria(r){this.categoriaFiltro=r,this.currentPage=0,this.cargarIngredientes()}cambiarPagina(r){r>=0&&r<this.totalPages&&(this.currentPage=r,this.cargarIngredientes())}abrirModalCrear(){this.ingredienteEditando=null,this.formulario={nombre:"",proteinas:0,carbohidratos:0,grasas:0,energia:0,fibra:0,categoriaAlimento:"",descripcion:"",etiquetaIds:[]},this.formularioInicial=JSON.parse(JSON.stringify(this.formulario)),this.mostrarModal=!0}abrirModalEditar(r){this.ingredienteEditando=r;let e=!this.categorias.includes(r.categoriaAlimento);this.formulario={nombre:r.nombre,proteinas:r.proteinas,carbohidratos:r.carbohidratos,grasas:r.grasas,energia:r.energia,fibra:r.fibra||0,categoriaAlimento:e?"__CUSTOM__":r.categoriaAlimento,descripcion:r.descripcion||"",etiquetaIds:r.etiquetas.map(a=>a.id)},e&&(this.mostrarCampoCategoriaPersonalizada=!0,this.categoriaPersonalizada=r.categoriaAlimento),this.formularioInicial=JSON.parse(JSON.stringify(D(F({},this.formulario),{categoriaAlimento:e?this.categoriaPersonalizada:this.formulario.categoriaAlimento}))),this.mostrarModal=!0}cerrarModal(){this.hayaCambios()?this.mostrarConfirmacionCerrar=!0:(this.mostrarModal=!1,this.ingredienteEditando=null,this.mostrarCampoCategoriaPersonalizada=!1,this.categoriaPersonalizada="",this.formularioInicial=null)}hayaCambios(){if(!this.formularioInicial)return!1;let r={nombre:this.formulario.nombre?.trim()||"",categoriaAlimento:this.mostrarCampoCategoriaPersonalizada?this.categoriaPersonalizada?.trim()||"":this.formulario.categoriaAlimento||"",descripcion:this.formulario.descripcion?.trim()||"",proteinas:this.formulario.proteinas||0,carbohidratos:this.formulario.carbohidratos||0,grasas:this.formulario.grasas||0,energia:this.formulario.energia||0,fibra:this.formulario.fibra||0,etiquetaIds:JSON.stringify(this.formulario.etiquetaIds.sort())},e={nombre:this.formularioInicial.nombre?.trim()||"",categoriaAlimento:this.formularioInicial.categoriaAlimento||"",descripcion:this.formularioInicial.descripcion?.trim()||"",proteinas:this.formularioInicial.proteinas||0,carbohidratos:this.formularioInicial.carbohidratos||0,grasas:this.formularioInicial.grasas||0,energia:this.formularioInicial.energia||0,fibra:this.formularioInicial.fibra||0,etiquetaIds:JSON.stringify(this.formularioInicial.etiquetaIds.sort())};return JSON.stringify(r)!==JSON.stringify(e)}confirmarCerrarModal(){this.mostrarConfirmacionCerrar=!1,this.mostrarModal=!1,this.ingredienteEditando=null,this.mostrarCampoCategoriaPersonalizada=!1,this.categoriaPersonalizada="",this.formularioInicial=null,this.formulario.etiquetaIds.length>0?this.notificationService.info("Cambios descartados",`Se descartaron los cambios incluyendo ${this.formulario.etiquetaIds.length} etiqueta(s).`):this.notificationService.info("Cambios descartados","Los cambios del formulario se descartaron.")}cancelarCierre(){this.mostrarConfirmacionCerrar=!1}guardar(){if(!this.formulario.nombre||this.formulario.nombre.trim().length===0){this.notificationService.showWarning('El campo "Nombre" es obligatorio.');return}if(this.mostrarCampoCategoriaPersonalizada&&!this.categoriaPersonalizada.trim()){this.notificationService.showWarning("Por favor, ingresa el nombre de la nueva categor\xEDa de alimento.");return}let r=this.mostrarCampoCategoriaPersonalizada?this.categoriaPersonalizada:this.formulario.categoriaAlimento;if(!r){this.notificationService.showWarning('El campo "Categor\xEDa" es obligatorio. Por favor, selecciona una categor\xEDa.');return}if(this.formulario.energia<0||this.formulario.proteinas<0||this.formulario.carbohidratos<0||this.formulario.grasas<0){this.notificationService.showWarning("Los valores nutricionales no pueden ser negativos.");return}if(!this.formulario.energia||!this.formulario.proteinas||!this.formulario.carbohidratos||!this.formulario.grasas){this.notificationService.showWarning("Los campos de informaci\xF3n nutricional (Energ\xEDa, Prote\xEDnas, Carbohidratos y Grasas) son obligatorios.");return}this.guardando=!0;let e={nombre:this.formulario.nombre.trim(),proteinas:this.formulario.proteinas,carbohidratos:this.formulario.carbohidratos,grasas:this.formulario.grasas,energia:this.formulario.energia,fibra:this.formulario.fibra||void 0,categoriaAlimento:r,descripcion:this.formulario.descripcion?.trim()||void 0,etiquetaIds:this.formulario.etiquetaIds.length>0?this.formulario.etiquetaIds:void 0};(this.ingredienteEditando?this.ingredienteService.actualizar(this.ingredienteEditando.id,e):this.ingredienteService.crear(e)).subscribe({next:o=>{this.ingredienteEditando?this.notificationService.showSuccess(`El ingrediente "${o.data.nombre}" se actualiz\xF3 correctamente.`):this.notificationService.showSuccess(`El ingrediente "${o.data.nombre}" se cre\xF3 exitosamente.`),this.formularioInicial=null,this.cerrarModal(),this.cargarIngredientes(),this.guardando=!1},error:o=>{console.error("Error al guardar:",o),this.guardando=!1,o.status===409?this.notificationService.error("No se puede guardar",`Ya existe un ingrediente con el nombre "${this.formulario.nombre}". Por favor, usa un nombre diferente.`):o.status===400?this.notificationService.error("Datos inv\xE1lidos",o.error?.message||"Los datos ingresados no son v\xE1lidos. Verifica que todos los campos est\xE9n correctos."):o.status?this.notificationService.showHttpError(o.status,o.error?.message):this.notificationService.showError("No se pudo guardar el ingrediente. Verifica tu conexi\xF3n a internet.")}})}confirmarEliminar(r){this.ingredienteAEliminar=r,this.mostrarConfirmacion=!0}cerrarConfirmacion(){this.mostrarConfirmacion=!1,this.ingredienteAEliminar=null}eliminar(){if(!this.ingredienteAEliminar)return;this.eliminando=!0;let r=this.ingredienteAEliminar.nombre;this.ingredienteService.eliminar(this.ingredienteAEliminar.id).subscribe({next:e=>{this.notificationService.showSuccess(`El ingrediente "${r}" se elimin\xF3 correctamente.`),this.cerrarConfirmacion(),this.cargarIngredientes(),this.eliminando=!1},error:e=>{console.error("Error al eliminar:",e),this.eliminando=!1,e.status===409||e.error?.message&&e.error.message.includes("en uso")?this.notificationService.error("No se puede eliminar",`El ingrediente "${r}" est\xE1 siendo usado en recetas. Primero debes eliminar esas referencias.`,1e4):e.status===404?(this.notificationService.error("Ingrediente no encontrado","El ingrediente que intentas eliminar ya no existe. La p\xE1gina se actualizar\xE1."),this.cerrarConfirmacion(),this.cargarIngredientes()):e.status?this.notificationService.showHttpError(e.status,e.error?.message):this.notificationService.showError("No se pudo eliminar el ingrediente. Verifica tu conexi\xF3n a internet.")}})}toggleEtiqueta(r){let e=this.formulario.etiquetaIds.indexOf(r);e>-1?this.formulario.etiquetaIds.splice(e,1):this.formulario.etiquetaIds.push(r)}isEtiquetaSeleccionada(r){return this.formulario.etiquetaIds.includes(r)}getCategoriaLabel(r){let e=ee[r];return e||r.split("_").map(a=>a.charAt(0)+a.slice(1).toLowerCase()).join(" ")}getCategoriaIcon(r){return te[r]||"\u{1F4E6}"}onCategoriaChange(){this.formulario.categoriaAlimento==="__CUSTOM__"?(this.mostrarCampoCategoriaPersonalizada=!0,this.categoriaPersonalizada=""):(this.mostrarCampoCategoriaPersonalizada=!1,this.categoriaPersonalizada="")}onCategoriaPersonalizadaChange(){this.categoriaPersonalizada=this.categoriaPersonalizada.toUpperCase().replace(/\s+/g,"_").replace(/[^A-Z0-9_]/g,"")}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=q({type:s,selectors:[["app-ingredientes-list"]],decls:78,vars:14,consts:[[1,"ingredientes-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"stats-grid"],[1,"stat-card","green-border"],[1,"stat-header"],[1,"stat-title"],[1,"stat-icon","green"],[1,"stat-value"],[1,"stat-footer"],[1,"stat-subtitle"],[1,"stat-card","yellow-border"],[1,"stat-icon","yellow"],[1,"stat-card","purple-border"],[1,"stat-icon","purple"],[1,"stat-card","red-border"],[1,"stat-icon","red"],[1,"filters-card"],[1,"search-section"],[1,"search-input-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"search-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Buscar ingredientes por nombre...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"btn-primary",3,"click"],[1,"filter-section"],[1,"filter-label"],[1,"filter-buttons"],[1,"filter-btn",3,"click"],[1,"filter-btn",3,"active"],[1,"loading-card"],[1,"empty-state"],[1,"modal-overlay"],[1,"modal-overlay","confirmation-overlay"],[1,"spinner"],[1,"table-card","desktop-only"],[1,"data-table"],[1,"text-right"],[1,"pagination"],[1,"mobile-only"],[1,"mobile-card"],[1,"mobile-pagination"],[1,"table-id"],[1,"table-name"],[1,"name-icon"],[1,"badge","badge-category"],[1,"nutrition-value"],[1,"nutrition-unit"],[1,"tags-container"],[1,"tag"],[1,"tag-more"],[1,"action-buttons"],["title","Editar",1,"btn-action","edit",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Eliminar",1,"btn-action","delete",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"pagination-info"],[1,"pagination-controls"],[1,"btn-pagination",3,"click","disabled"],[1,"pagination-current"],[1,"mobile-card-header"],[1,"mobile-card-title"],[1,"mobile-icon"],[1,"mobile-name"],[1,"mobile-id"],[1,"mobile-nutrition"],[1,"nutrition-item"],[1,"nutrition-label"],[1,"nutrition-data"],[1,"mobile-tags"],[1,"mobile-card-actions"],[1,"btn-mobile","edit",3,"click"],[1,"btn-mobile","delete",3,"click"],[1,"mobile-pagination-info"],[1,"mobile-pagination-controls"],[1,"empty-icon"],[1,"modal-overlay",3,"click"],[1,"modal-content","large",3,"click"],[1,"modal-header"],[1,"modal-body"],[1,"form-group"],[1,"required"],["type","text","placeholder","Ej: Pechuga de pollo",1,"form-input",3,"ngModelChange","ngModel"],[1,"form-input",3,"ngModelChange","change","ngModel"],["value",""],[3,"value"],["value","__CUSTOM__"],[1,"form-group","custom-type-group"],[1,"form-section-title"],[1,"form-row"],["type","number","placeholder","0","min","0","step","0.1",1,"form-input",3,"ngModelChange","ngModel"],["rows","3","placeholder","Descripci\xF3n opcional del ingrediente...",1,"form-input",3,"ngModelChange","ngModel"],[1,"etiquetas-selector"],["type","button",1,"etiqueta-chip",3,"selected"],[1,"no-etiquetas"],[1,"modal-footer"],[1,"btn-secondary",3,"click","disabled"],[1,"btn-primary",3,"click","disabled"],["type","text","placeholder","Ej: SUPERALIMENTOS",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"help-text"],["type","button",1,"etiqueta-chip",3,"click"],[1,"modal-content","small",3,"click"],[1,"modal-body","centered"],[1,"warning-icon"],[1,"btn-danger",3,"click","disabled"],[1,"modal-overlay","confirmation-overlay",3,"click"],[1,"btn-secondary",3,"click"],[1,"btn-danger",3,"click"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"mat-icon"),i(5,"kitchen"),n(),i(6," Gesti\xF3n de Ingredientes "),n(),t(7,"p",4),i(8,"Crea, edita y gestiona todos los ingredientes desde aqu\xED."),n()()(),t(9,"div",5)(10,"div",6)(11,"div",7)(12,"span",8),i(13,"Total Ingredientes"),n(),t(14,"div",9),i(15,"\u{1F957}"),n()(),t(16,"div",10),i(17),n(),t(18,"div",11)(19,"span",12),i(20,"registrados"),n()()(),t(21,"div",13)(22,"div",7)(23,"span",8),i(24,"Categor\xEDas"),n(),t(25,"div",14),i(26,"\u{1F4CA}"),n()(),t(27,"div",10),i(28),n(),t(29,"div",11)(30,"span",12),i(31,"disponibles"),n()()(),t(32,"div",15)(33,"div",7)(34,"span",8),i(35,"P\xE1gina Actual"),n(),t(36,"div",16),i(37,"\u{1F4C4}"),n()(),t(38,"div",10),i(39),n(),t(40,"div",11)(41,"span",12),i(42),n()()(),t(43,"div",17)(44,"div",7)(45,"span",8),i(46,"Etiquetas"),n(),t(47,"div",18),i(48,"\u{1F3F7}\uFE0F"),n()(),t(49,"div",10),i(50),n(),t(51,"div",11)(52,"span",12),i(53,"disponibles"),n()()()(),t(54,"div",19)(55,"div",20)(56,"div",21),A(),t(57,"svg",22),O(58,"path",23),n(),T(),t(59,"input",24),P("ngModelChange",function(c){return E(a.searchTerm,c)||(a.searchTerm=c),c}),p("input",function(){return a.onSearch()}),n()(),t(60,"button",25),p("click",function(){return a.abrirModalCrear()}),t(61,"span"),i(62,"+"),n(),i(63," Nuevo Ingrediente "),n()(),t(64,"div",26)(65,"label",27),i(66,"Filtrar por categor\xEDa:"),n(),t(67,"div",28)(68,"button",29),p("click",function(){return a.filtrarPorCategoria("")}),i(69," Todas "),n(),S(70,ie,2,4,"button",30,z),n()()(),x(72,oe,4,0,"div",31),x(73,pe,30,2),x(74,ue,11,0,"div",32),x(75,be,74,14,"div",33),x(76,he,17,4,"div",33),x(77,Ee,14,0,"div",34),n()),e&2&&(l(17),u(a.totalElements),l(11),u(a.categorias.length),l(11),u(a.currentPage+1),l(3),_("de ",a.totalPages||0),l(8),u(a.etiquetasDisponibles().length),l(9),h("ngModel",a.searchTerm),l(9),L("active",a.categoriaFiltro===""),l(2),v(a.categorias),l(2),C(a.loading()?72:-1),l(),C(!a.loading()&&a.ingredientes().length>0?73:-1),l(),C(!a.loading()&&a.ingredientes().length===0?74:-1),l(),C(a.mostrarModal?75:-1),l(),C(a.mostrarConfirmacion?76:-1),l(),C(a.mostrarConfirmacionCerrar?77:-1))},dependencies:[N,$,H,Y,U,j,J,W,Z,G,B,R],styles:[".ingredientes-container[_ngcontent-%COMP%]{padding:30px;background:#f8f9fa;min-height:100vh}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-content[_ngcontent-%COMP%]{flex:1}.page-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin:0 0 .5rem;font-size:2rem;color:#333}.page-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem;color:var(--primary-color, #00A859)}.page-subtitle[_ngcontent-%COMP%]{margin:0;color:#666;font-size:1rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(159deg,#28a745,#20c997);color:#fff;border:none;border-radius:8px;padding:10px 20px;display:flex;align-items:center;gap:6px;font-size:14px;font-weight:700;cursor:pointer;transition:all .3s ease;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #28a7454d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#6c757d;border:1px solid #DEE2E6;border-radius:8px;padding:10px 20px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(159deg,#dc3545,#e83e8c);color:#fff;border:none;border-radius:8px;padding:10px 20px;font-size:14px;font-weight:700;cursor:pointer;transition:all .3s ease}.btn-danger[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #dc35454d}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{flex:1 1 260px;max-width:100%;background:#fff;border-radius:16px;padding:25px;box-shadow:0 2px 4px #0000000a;overflow:hidden}.stat-card.green-border[_ngcontent-%COMP%]{border-top:solid 5px #24B86F}.stat-card.yellow-border[_ngcontent-%COMP%]{border-top:solid 5px #FEA00D}.stat-card.red-border[_ngcontent-%COMP%]{border-top:solid 5px #E23A69}.stat-card.purple-border[_ngcontent-%COMP%]{border-top:solid 5px #385EE0}.stat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.stat-title[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;font-weight:500}.stat-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px}.stat-icon.green[_ngcontent-%COMP%]{background:#e8f5e8}.stat-icon.yellow[_ngcontent-%COMP%]{background:#fff3cd}.stat-icon.red[_ngcontent-%COMP%]{background:#f8d7da}.stat-icon.purple[_ngcontent-%COMP%]{background:#e2e3f1}.stat-value[_ngcontent-%COMP%]{color:#333;font-size:32px;font-weight:700;margin-bottom:10px}.stat-footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.stat-subtitle[_ngcontent-%COMP%]{color:#6c757d;font-size:12px}.filters-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:25px 30px;box-shadow:0 2px 4px #0000000a;margin-bottom:30px}.search-section[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;width:500px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#6c757d}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 12px 12px 44px;border:1px solid #DEE2E6;border-radius:8px;font-size:14px;color:#333;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#28a745;box-shadow:0 0 0 3px #28a7451a}.filter-section[_ngcontent-%COMP%]{padding-top:20px;border-top:1px solid #F1F3F4}.filter-label[_ngcontent-%COMP%]{display:block;color:#333;font-size:14px;font-weight:700;margin-bottom:12px}.filter-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.filter-btn[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #DEE2E6;background:#fff;border-radius:20px;color:#6c757d;font-size:13px;font-weight:500;cursor:pointer;transition:all .3s ease}.filter-btn[_ngcontent-%COMP%]:hover{border-color:#28a745;color:#28a745;background:#e8f5e8}.filter-btn.active[_ngcontent-%COMP%]{background:linear-gradient(159deg,#28a745,#20c997);color:#fff;border-color:transparent}.loading-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:60px;box-shadow:0 2px 4px #0000000a;text-align:center}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #F1F3F4;border-top-color:#28a745;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin:0 auto 20px}.loading-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.table-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 2px 4px #0000000a;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8f9fa}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px 20px;text-align:left;color:#6c757d;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #F1F3F4;color:#333;font-size:14px}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table-id[_ngcontent-%COMP%]{color:#6c757d;font-weight:500}.table-name[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.name-icon[_ngcontent-%COMP%]{font-size:24px}.nutrition-value[_ngcontent-%COMP%]{color:#333;font-weight:700}.nutrition-unit[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;margin-left:2px}.text-right[_ngcontent-%COMP%]{text-align:right}.badge[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:20px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.3px}.badge-category[_ngcontent-%COMP%]{background:#d1ecf1;color:#007bff}.tags-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;max-width:200px}.tag[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:#e8f5e8;color:#28a745;border-radius:12px;font-size:11px;font-weight:600}.tag-more[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;background:#f8f9fa;color:#6c757d;border-radius:12px;font-size:11px;font-weight:600}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end}.btn-action[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.btn-action[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.btn-action.edit[_ngcontent-%COMP%]{background:#d1ecf1;color:#007bff}.btn-action.edit[_ngcontent-%COMP%]:hover{background:#b8daff}.btn-action.delete[_ngcontent-%COMP%]{background:#f8d7da;color:#dc3545}.btn-action.delete[_ngcontent-%COMP%]:hover{background:#f5c6cb}.pagination[_ngcontent-%COMP%]{padding:20px 25px;border-top:1px solid #F1F3F4;display:flex;justify-content:space-between;align-items:center}.pagination-info[_ngcontent-%COMP%]{color:#6c757d;font-size:14px}.pagination-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;font-weight:700}.pagination-controls[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.pagination-current[_ngcontent-%COMP%]{color:#6c757d;font-size:14px}.btn-pagination[_ngcontent-%COMP%]{padding:8px 16px;border:1px solid #DEE2E6;background:#fff;border-radius:6px;color:#333;font-size:13px;font-weight:500;cursor:pointer;transition:all .3s ease}.btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled){background:#f8f9fa;border-color:#28a745;color:#28a745}.btn-pagination[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.mobile-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 4px #0000000a;margin-bottom:12px}.mobile-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px}.mobile-card-title[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.mobile-icon[_ngcontent-%COMP%]{font-size:28px}.mobile-name[_ngcontent-%COMP%]{color:#333;font-size:15px;font-weight:700}.mobile-id[_ngcontent-%COMP%]{color:#6c757d;font-size:12px;margin-top:2px}.mobile-nutrition[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:12px 0;border-top:1px solid #F1F3F4;border-bottom:1px solid #F1F3F4;margin-bottom:12px}.nutrition-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nutrition-label[_ngcontent-%COMP%]{color:#6c757d;font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:.3px}.nutrition-data[_ngcontent-%COMP%]{color:#333;font-size:14px;font-weight:700;margin-top:4px}.mobile-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}.mobile-card-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-mobile[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;border-radius:8px;font-size:13px;font-weight:700;cursor:pointer;transition:all .3s ease}.btn-mobile.edit[_ngcontent-%COMP%]{background:#d1ecf1;color:#007bff}.btn-mobile.edit[_ngcontent-%COMP%]:hover{background:#b8daff}.btn-mobile.delete[_ngcontent-%COMP%]{background:#f8d7da;color:#dc3545}.btn-mobile.delete[_ngcontent-%COMP%]:hover{background:#f5c6cb}.mobile-pagination[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 4px #0000000a;margin-top:12px}.mobile-pagination-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:12px;color:#333;font-size:14px;font-weight:700}.mobile-pagination-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:12px;font-weight:400;margin-top:4px}.mobile-pagination-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.mobile-pagination-controls[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]{flex:1}.empty-state[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:60px 30px;box-shadow:0 2px 4px #0000000a;text-align:center}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:20px;font-weight:700;margin:0 0 10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0 0 30px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;padding:20px;z-index:1000;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 10px 40px #0003;max-width:500px;width:100%;max-height:90vh;overflow-y:auto}.modal-content.large[_ngcontent-%COMP%]{max-width:700px}.modal-content.small[_ngcontent-%COMP%]{max-width:400px}.modal-header[_ngcontent-%COMP%]{padding:25px 30px;border-bottom:1px solid #F1F3F4}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:700;margin:0}.modal-body[_ngcontent-%COMP%]{padding:25px 30px}.modal-body.centered[_ngcontent-%COMP%]{text-align:center}.modal-body.centered[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:20px;font-weight:700;margin:0 0 10px}.modal-body.centered[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;line-height:1.6;margin:0}.warning-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:20px}.modal-footer[_ngcontent-%COMP%]{padding:20px 30px;border-top:1px solid #F1F3F4;display:flex;gap:12px;justify-content:flex-end}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:#333;font-size:14px;font-weight:700;margin-bottom:8px}.required[_ngcontent-%COMP%]{color:#dc3545}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #DEE2E6;border-radius:8px;font-size:14px;color:#333;transition:all .3s ease;font-family:inherit}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#28a745;box-shadow:0 0 0 3px #28a7451a}.form-input[_ngcontent-%COMP%]::placeholder{color:#adb5bd}select.form-input[_ngcontent-%COMP%]{cursor:pointer}textarea.form-input[_ngcontent-%COMP%]{resize:vertical;min-height:80px}input[type=number].form-input[_ngcontent-%COMP%]{-moz-appearance:textfield}input[type=number].form-input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number].form-input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.custom-type-group[_ngcontent-%COMP%]{border:2px solid #28A745;border-radius:8px;padding:16px;background:#e8f5e8;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.custom-type-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#28a745}.help-text[_ngcontent-%COMP%]{display:block;font-size:12px;color:#6c757d;margin-top:8px;font-style:italic}.form-section-title[_ngcontent-%COMP%]{color:#333;font-size:16px;font-weight:700;margin:25px 0 15px;padding-bottom:10px;border-bottom:2px solid #28A745}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.etiquetas-selector[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;padding:12px;background:#f8f9fa;border-radius:8px;min-height:60px}.etiqueta-chip[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid #DEE2E6;background:#fff;border-radius:20px;color:#6c757d;font-size:13px;font-weight:600;cursor:pointer;transition:all .3s ease}.etiqueta-chip[_ngcontent-%COMP%]:hover{border-color:#28a745;color:#28a745;background:#e8f5e8}.etiqueta-chip.selected[_ngcontent-%COMP%]{background:linear-gradient(159deg,#28a745,#20c997);color:#fff;border-color:transparent}.no-etiquetas[_ngcontent-%COMP%]{color:#6c757d;font-size:13px;margin:8px}.desktop-only[_ngcontent-%COMP%]{display:block}.mobile-only[_ngcontent-%COMP%]{display:none}@media (max-width: 1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.ingredientes-container[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:flex-start;padding:20px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.btn-primary[_ngcontent-%COMP%]{width:100%;justify-content:center}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{padding:20px}.stat-value[_ngcontent-%COMP%]{font-size:28px}.filters-card[_ngcontent-%COMP%]{padding:20px;margin-bottom:20px}.search-input-wrapper[_ngcontent-%COMP%]{max-width:100%}.filter-buttons[_ngcontent-%COMP%]{gap:6px}.filter-btn[_ngcontent-%COMP%]{font-size:12px;padding:6px 12px}.desktop-only[_ngcontent-%COMP%]{display:none}.mobile-only[_ngcontent-%COMP%]{display:block}.modal-content[_ngcontent-%COMP%]{max-width:100%;margin:0;border-radius:12px}.modal-content.large[_ngcontent-%COMP%]{max-width:100%}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:20px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.modal-footer[_ngcontent-%COMP%]{flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.empty-icon[_ngcontent-%COMP%]{font-size:48px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%], .mobile-nutrition[_ngcontent-%COMP%]{grid-template-columns:1fr}}.modal-header[_ngcontent-%COMP%]{padding:25px 30px;border-bottom:1px solid #F1F3F4;display:flex;justify-content:space-between;align-items:center}.modal-overlay[_ngcontent-%COMP%]{z-index:1000}.modal-overlay[_ngcontent-%COMP%] + .modal-overlay[_ngcontent-%COMP%]{z-index:1001}.input-error[_ngcontent-%COMP%]{border-color:#dc3545!important;background:#fff5f5}.input-error[_ngcontent-%COMP%]:focus{border-color:#dc3545!important;box-shadow:0 0 0 3px #dc35451a!important}.error-message[_ngcontent-%COMP%]{display:block;color:#dc3545;font-size:12px;font-weight:600;margin-top:6px}.preview-text[_ngcontent-%COMP%]{margin-top:12px;padding:10px;background:#fff;border:1px solid #28A745;border-radius:6px;font-size:13px;color:#6c757d}.preview-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#28a745}.btn-spinner[_ngcontent-%COMP%]{display:inline-block;width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .6s linear infinite;margin-right:6px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.confirmation-overlay[_ngcontent-%COMP%]{z-index:1001!important;background:#000000b3}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.btn-close-modal[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#f8f9fa;border-radius:50%;color:#6c757d;font-size:20px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.btn-close-modal[_ngcontent-%COMP%]:hover{background:#e9ecef;color:#dc3545;transform:scale(1.1)}"]})};export{ne as IngredientesListComponent};
