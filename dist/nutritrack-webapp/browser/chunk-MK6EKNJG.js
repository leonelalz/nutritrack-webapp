import{a as B}from"./chunk-3ITULOAN.js";import{a as z}from"./chunk-SMVVNKRT.js";import{c as R,e as c,g as y,h as P,k as I,l as w,m as D,o as F,p as V,q as A,r as k,s as j,t as G,u as q,w as T}from"./chunk-2VZLF2MU.js";import"./chunk-6LZ2YNEV.js";import{d as M,f as N,g as O}from"./chunk-7Q5XKRGT.js";import{$ as b,Ka as m,Mb as n,Ob as _,Pa as a,Va as x,aa as C,ib as s,jb as p,ka as l,nb as f,ob as i,pb as e,qb as u,ub as S,wb as h,xc as E,yb as g}from"./chunk-FVUT7SF7.js";import"./chunk-2VMXMS7J.js";function Z(o,r){o&1&&(i(0,"div",3),n(1,"Cargando rutina..."),e())}function H(o,r){if(o&1){let t=S();i(0,"form",5),h("ngSubmit",function(){b(t);let v=g();return C(v.guardar())}),i(1,"div",6)(2,"label"),n(3,"Nombre "),i(4,"span",7),n(5,"*"),e()(),u(6,"input",8),e(),i(7,"div",6)(8,"label"),n(9,"Descripci\xF3n "),i(10,"span",7),n(11,"*"),e()(),u(12,"textarea",9),e(),i(13,"div",10)(14,"div",6)(15,"label"),n(16,"Duraci\xF3n (semanas)"),e(),u(17,"input",11),e(),i(18,"div",6)(19,"label"),n(20,"Frecuencia Semanal"),e(),u(21,"input",12),e()(),i(22,"div",6)(23,"label"),n(24,"Nivel"),e(),i(25,"select",13)(26,"option",14),n(27,"Principiante"),e(),i(28,"option",15),n(29,"Intermedio"),e(),i(30,"option",16),n(31,"Avanzado"),e()()(),i(32,"div",17)(33,"button",18),n(34,"Cancelar"),e(),i(35,"button",19),n(36),e()()()}if(o&2){let t=g();f("formGroup",t.formulario),m(35),f("disabled",t.formulario.invalid||t.guardando()),m(),_(" ",t.guardando()?"Guardando...":"Guardar Cambios"," ")}}var L=class o{constructor(r,t,d,v,J){this.fb=r;this.route=t;this.router=d;this.rutinaService=v;this.notificationService=J}formulario;cargando=l(!0);guardando=l(!1);rutinaId;ngOnInit(){this.rutinaId=Number(this.route.snapshot.paramMap.get("id")),this.cargarRutina()}cargarRutina(){this.rutinaService.obtenerRutinaPorId(this.rutinaId).subscribe({next:r=>{if(r.success&&r.data){let t=r.data;this.formulario=this.fb.group({nombre:[t.nombre,c.required],descripcion:[t.descripcion,c.required],duracionSemanas:[t.duracionSemanas,c.required],nivelDificultad:[t.nivelDificultad,c.required],objetivo:[t.objetivo]}),this.cargando.set(!1)}},error:()=>{this.notificationService.showError("Error al cargar rutina"),this.router.navigate(["/admin/rutinas"])}})}guardar(){this.formulario.invalid||(this.guardando.set(!0),this.rutinaService.actualizarRutina(this.rutinaId,this.formulario.value).subscribe({next:r=>{r.success&&(this.notificationService.showSuccess("Rutina actualizada"),this.router.navigate(["/admin/rutinas"]))},error:()=>{this.guardando.set(!1),this.notificationService.showError("Error al actualizar")}}))}static \u0275fac=function(t){return new(t||o)(a(q),a(M),a(N),a(B),a(z))};static \u0275cmp=x({type:o,selectors:[["app-editar-rutina"]],decls:8,vars:2,consts:[[1,"editar-rutina-container"],[1,"header"],["routerLink","/admin/rutinas",1,"btn-link"],[1,"loading"],[1,"form",3,"formGroup"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"required"],["type","text","formControlName","nombre"],["formControlName","descripcion","rows","4"],[1,"form-row"],["type","number","formControlName","duracionSemanas","min","1"],["type","number","formControlName","frecuenciaSemanal","min","1","max","7"],["formControlName","nivelDificultad"],["value","PRINCIPIANTE"],["value","INTERMEDIO"],["value","AVANZADO"],[1,"form-actions"],["type","button","routerLink","/admin/rutinas",1,"btn-secondary"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(t,d){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Editar Rutina"),e(),i(4,"button",2),n(5,"\u2190 Volver"),e()(),s(6,Z,2,0,"div",3),s(7,H,37,3,"form",4),e()),t&2&&(m(6),p(d.cargando()?6:-1),m(),p(!d.cargando()&&d.formulario?7:-1))},dependencies:[E,O,T,I,A,k,R,w,V,y,P,G,j,D,F],styles:[".editar-rutina-container[_ngcontent-%COMP%]{padding:2rem;max-width:900px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:2rem}h1[_ngcontent-%COMP%]{font-size:2rem;color:#2d3748}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;font-weight:600;cursor:pointer}.form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#4a5568;margin-bottom:.5rem}.required[_ngcontent-%COMP%]{color:#e53e3e}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e2e8f0;border-radius:8px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:8px;font-weight:600;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#edf2f7;color:#4a5568}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem}"]})};export{L as EditarRutinaComponent};
