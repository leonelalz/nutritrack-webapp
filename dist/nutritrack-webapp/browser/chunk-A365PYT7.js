import{a as re}from"./chunk-GZZKD4TH.js";import{a as oe}from"./chunk-F5B3K5RO.js";import{a as ae}from"./chunk-ILKCMMAD.js";import{a as ie}from"./chunk-6ULEJF3H.js";import{d as te,g as ne}from"./chunk-LBN5CU62.js";import"./chunk-NZVHEJ25.js";import{Bb as U,Db as q,Fb as h,Jc as X,Kc as Z,Na as o,Qb as u,Rb as j,Rc as ee,Tb as a,U as W,Ub as m,Vb as C,Wb as M,Z as y,_a as K,_b as B,ca as H,cc as R,da as T,dc as I,ea as F,fa as L,ic as c,j as x,n as E,na as l,nb as b,ob as f,rb as w,sb as k,t as Q,tb as A,u as J,ub as i,vb as n,wb as g,y as v}from"./chunk-N5FZ7NRP.js";import"./chunk-2VMXMS7J.js";var N=class r{http=y(ee);apiUrl=ie.apiUrl;obtenerPerfilCompleto(){return this.http.get(`${this.apiUrl}/perfil/completo`)}obtenerHistorialMediciones(){return this.http.get(`${this.apiUrl}/perfil/mediciones`)}obtenerPlanActivo(){return this.http.get(`${this.apiUrl}/usuario/planes/activo`)}obtenerRutinaActiva(){return this.http.get(`${this.apiUrl}/usuario/rutinas/activa`)}obtenerProgresoHoy(){return this.http.get(`${this.apiUrl}/usuario/registros/plan/hoy`)}obtenerProgresoPlan(){return this.http.get(`${this.apiUrl}/usuario/registros/plan/progreso`)}obtenerEjerciciosHoy(){return this.http.get(`${this.apiUrl}/usuario/registros/rutina/hoy`)}obtenerProgresoSemanalComidas(e){return e?this.http.get(`${this.apiUrl}/usuario/registros/comidas/progreso/semanal`,{params:{fecha:e}}):this.http.get(`${this.apiUrl}/usuario/registros/comidas/progreso/semanal`)}obtenerProgresoSemanalEjercicios(e){return e?this.http.get(`${this.apiUrl}/usuario/registros/ejercicios/progreso/semanal`,{params:{fecha:e}}):this.http.get(`${this.apiUrl}/usuario/registros/ejercicios/progreso/semanal`)}obtenerHistorialComidas(e,t){return this.http.get(`${this.apiUrl}/usuario/registros/comidas/historial`,{params:{fechaInicio:e,fechaFin:t}})}obtenerHistorialEjercicios(e,t){return this.http.get(`${this.apiUrl}/usuario/registros/ejercicios/historial`,{params:{fechaInicio:e,fechaFin:t}})}cargarDashboardCompleto(){return Q({perfil:this.obtenerPerfilCompleto().pipe(E(e=>e.data),v(()=>x(null))),mediciones:this.obtenerHistorialMediciones().pipe(E(e=>e.data||[]),v(()=>x([]))),planActivo:this.obtenerPlanActivo().pipe(E(e=>e.data),v(()=>x(null))),rutinaActiva:this.obtenerRutinaActiva().pipe(E(e=>e.data),v(()=>x(null))),progresoHoy:this.obtenerProgresoHoy().pipe(v(()=>x(null))),progresoPlan:this.obtenerProgresoPlan().pipe(v(()=>x(null))),ejerciciosHoy:this.obtenerEjerciciosHoy().pipe(v(()=>x(null))),progresoSemanalComidas:this.obtenerProgresoSemanalComidas().pipe(v(()=>x(null))),progresoSemanalEjercicios:this.obtenerProgresoSemanalEjercicios().pipe(v(()=>x(null)))})}calcularLogros(e){let t=[],s=e.mediciones||[],d=e.perfil,p=e.progresoPlan,D=e.progresoSemanalEjercicios,S=e.progresoHoy;t.push({id:"primera-medicion",nombre:"\xA1Primera Medici\xF3n!",descripcion:"Registra tu primera medici\xF3n corporal",icono:"\u{1F4CF}",desbloqueado:s.length>0,progreso:Math.min(s.length,1),objetivo:1,tipo:"peso"});let _=p?.rachaActual||this.calcularRacha(e);if(t.push({id:"racha-7",nombre:"Semana Perfecta",descripcion:"Mant\xE9n una racha de 7 d\xEDas consecutivos",icono:"\u{1F525}",desbloqueado:_>=7,progreso:Math.min(_,7),objetivo:7,tipo:"racha"}),t.push({id:"racha-30",nombre:"Mes Imparable",descripcion:"Mant\xE9n una racha de 30 d\xEDas consecutivos",icono:"\u{1F3C6}",desbloqueado:_>=30,progreso:Math.min(_,30),objetivo:30,tipo:"racha"}),s.length>=2){let z=s[s.length-1],de=s[0],G=z.peso-de.peso;t.push({id:"perdida-5kg",nombre:"Transformaci\xF3n",descripcion:"Pierde 5 kg desde tu peso inicial",icono:"\u2696\uFE0F",desbloqueado:G>=5,progreso:Math.min(Math.max(G,0),5),objetivo:5,tipo:"peso"})}let O=D?.ejerciciosCompletados||0;t.push({id:"ejercicios-10",nombre:"En Movimiento",descripcion:"Completa 10 ejercicios",icono:"\u{1F4AA}",desbloqueado:O>=10,progreso:Math.min(O,10),objetivo:10,tipo:"ejercicio"});let P=S?.comidas?.filter(z=>z.registrada)?.length||0,$=S?.comidas?.length||0;t.push({id:"meta-diaria",nombre:"D\xEDa Perfecto",descripcion:"Cumple todas las comidas del d\xEDa",icono:"\u2728",desbloqueado:P>0&&P===$,progreso:P,objetivo:Math.max($,1),tipo:"nutricion"});let V=d&&d.perfilSalud&&d.ultimaMedicion;t.push({id:"perfil-completo",nombre:"Listo para Empezar",descripcion:"Completa tu perfil de salud y primera medici\xF3n",icono:"\u{1F3AF}",desbloqueado:!!V,progreso:V?2:d?.perfilSalud?1:0,objetivo:2,tipo:"consistencia"}),t.push({id:"ejercicios-100",nombre:"Atleta Dedicado",descripcion:"Completa 100 ejercicios en total",icono:"\u{1F3C5}",desbloqueado:O>=100,progreso:Math.min(O,100),objetivo:100,tipo:"ejercicio"});let Y=p?.diasCompletados||0;return t.push({id:"plan-10-dias",nombre:"Comprometido",descripcion:"Completa 10 d\xEDas de tu plan nutricional",icono:"\u{1F4C5}",desbloqueado:Y>=10,progreso:Math.min(Y,10),objetivo:10,tipo:"consistencia"}),t}calcularRacha(e){if(e.progresoPlan?.rachaActual)return e.progresoPlan.rachaActual;let t=e.planActivo,s=e.rutinaActiva,d=0;if(t?.fechaInicio){let p=new Date(t.fechaInicio);d=Math.max(d,Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60*24))+1)}if(s?.fechaInicio){let p=new Date(s.fechaInicio);d=Math.max(d,Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60*24))+1)}return d}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var me=(r,e)=>e.dia,ce=(r,e)=>e.id;function pe(r,e){r&1&&(i(0,"div",1)(1,"div",3)(2,"div",4),g(3,"div",5)(4,"div",5)(5,"div",5),n(),i(6,"h2"),a(7,"Cargando tu dashboard..."),n(),i(8,"p"),a(9,"Preparando tus datos personalizados"),n()()())}function ge(r,e){if(r&1){let t=U();i(0,"div",2)(1,"div",6)(2,"div",7),a(3,"\u{1F615}"),n(),i(4,"h2"),a(5,"\xA1Ups! Algo sali\xF3 mal"),n(),i(6,"p"),a(7),n(),i(8,"button",8),q("click",function(){H(t);let d=h();return T(d.refrescar())}),i(9,"span"),a(10,"\u{1F504}"),n(),a(11," Intentar de nuevo "),n()()()}if(r&2){let t=h();o(7),m(t.errorMessage())}}function ue(r,e){r&1&&(i(0,"span"),a(1,"\u{1F3C6} \xA1Incre\xEDble!"),n())}function be(r,e){r&1&&(i(0,"span"),a(1,"\u2B50 \xA1Sigue as\xED!"),n())}function fe(r,e){r&1&&(i(0,"span"),a(1,"\u{1F4AA} \xA1Vamos!"),n())}function he(r,e){if(r&1&&(i(0,"div",108)(1,"span"),a(2),R(3,"number"),n()()),r&2){let t=h(2);j("positive",t.cambiosPeso()<0)("negative",t.cambiosPeso()>0),o(2),M("",t.cambiosPeso()>0?"+":"","",I(3,6,t.cambiosPeso(),"1.1-1")," kg")}}function xe(r,e){r&1&&(i(0,"span",113),a(1,"\u2713"),n())}function ve(r,e){if(r&1&&(i(0,"div",86)(1,"div",109),g(2,"div",110)(3,"div",111),n(),i(4,"span",112),a(5),n(),b(6,xe,2,0,"span",113),n()),r&2){let t=e.$implicit,s=h(2);o(2),u("height",100,"%"),A("title",B("Objetivo: ",t.objetivo," kcal")),o(),u("height",s.calcularAlturaBarra(t.calorias,t.objetivo),"%"),j("exceeded",t.calorias>t.objetivo),A("title",B("Consumido: ",t.calorias," kcal")),o(2),m(t.dia),o(),f(t.completado?6:-1)}}function Ce(r,e){if(r&1&&(i(0,"div",114)(1,"div",115),F(),i(2,"svg",116),g(3,"circle",117)(4,"circle",118),n(),L(),i(5,"div",119)(6,"span",120),a(7),n(),i(8,"span",121),a(9,"ejercicios"),n()()(),i(10,"div",122)(11,"div",123)(12,"span",33),a(13,"\u{1F525}"),n(),i(14,"div",124)(15,"span",125),a(16),n(),i(17,"span",126),a(18,"kcal quemadas"),n()()(),i(19,"div",123)(20,"span",33),a(21,"\u23F1\uFE0F"),n(),i(22,"div",124)(23,"span",125),a(24),n(),i(25,"span",126),a(26,"ejercicios hoy"),n()()()()(),i(27,"div",127)(28,"span",128),a(29),n(),i(30,"span",129),a(31),n()()),r&2){let t,s,d,p=h(2);o(4),u("stroke-dasharray","263.9")("stroke-dashoffset",263.9-263.9*p.porcentajeEjercicios()/100),o(3),M("",p.ejerciciosCompletados(),"/",p.ejerciciosProgramados()),o(9),m(p.caloriasQuemadas()),o(8),m(((t=p.ejerciciosHoy())==null||t.ejercicios==null?null:t.ejercicios.length)||0),o(5),m((s=p.rutinaActiva())==null?null:s.rutinaNombre),o(2),C("Semana ",((d=p.rutinaActiva())==null?null:d.semanaActual)||1)}}function Me(r,e){r&1&&(i(0,"div",90)(1,"div",130),a(2,"\u{1F3CB}\uFE0F"),n(),i(3,"p"),a(4,"No tienes una rutina activa"),n(),i(5,"a",131),a(6,"Explorar Rutinas"),n()())}function _e(r,e){if(r&1&&g(0,"div",135),r&2){let t=e.$implicit,s=h(3);u("height",s.calcularAlturaBarra(t.peso,s.pesoInicial()*1.2),"%"),A("title",t.fechaMedicion+": "+t.peso+" kg")}}function Pe(r,e){if(r&1&&(i(0,"div",102)(1,"div",132)(2,"span"),a(3,"Evoluci\xF3n de peso"),n()(),i(4,"div",133),w(5,_e,1,3,"div",134,ce),n()()),r&2){let t=h(2);o(5),k(t.mediciones().slice(0,7).reverse())}}function Oe(r,e){r&1&&(i(0,"div",138),a(1,"\u{1F512}"),n())}function ye(r,e){if(r&1&&(i(0,"div",142)(1,"div",144),g(2,"div",145),n(),i(3,"span",146),a(4),n()()),r&2){let t=h().$implicit;o(2),u("width",t.progreso/t.objetivo*100,"%"),o(2),M("",t.progreso,"/",t.objetivo)}}function De(r,e){r&1&&(i(0,"div",143),a(1,"\u2713"),n())}function Se(r,e){if(r&1&&(i(0,"div",136)(1,"div",137)(2,"span"),a(3),n(),b(4,Oe,2,0,"div",138),n(),i(5,"div",139)(6,"span",140),a(7),n(),i(8,"span",141),a(9),n(),b(10,ye,5,4,"div",142),n(),b(11,De,2,0,"div",143),n()),r&2){let t=e.$implicit;j("unlocked",t.desbloqueado)("locked",!t.desbloqueado),o(3),m(t.icono),o(),f(t.desbloqueado?-1:4),o(3),m(t.nombre),o(2),m(t.descripcion),o(),f(t.desbloqueado?-1:10),o(),f(t.desbloqueado?11:-1)}}function Ee(r,e){if(r&1&&(i(0,"div",107)(1,"div",147)(2,"span",148),a(3,"\u{1F4CB}"),n(),i(4,"div",149)(5,"span",150),a(6),n(),i(7,"span",151),a(8),n()()(),i(9,"div",152)(10,"a",153),a(11,"Ver Mis Planes"),n()()()),r&2){let t,s,d=h(2);o(6),m((t=d.planActivo())==null?null:t.planNombre),o(2),M("D\xEDa ",(s=d.planActivo())==null?null:s.diaActual," de ",(s=d.planActivo())==null?null:s.planDuracionDias)}}function je(r,e){if(r&1){let t=U();i(0,"div",9)(1,"div",10)(2,"h1"),a(3),i(4,"span",11),a(5),n(),a(6," \u{1F44B}"),n(),i(7,"p",12),a(8),n()(),i(9,"div",13)(10,"span",14),a(11,"\u{1F4C5}"),n(),i(12,"span"),a(13),n()()(),i(14,"div",15)(15,"a",16)(16,"span",17),a(17,"\u{1F37D}\uFE0F"),n(),i(18,"span",18),a(19,"Mis Comidas"),n()(),i(20,"a",19)(21,"span",17),a(22,"\u{1F4AA}"),n(),i(23,"span",18),a(24,"Mis Ejercicios"),n()(),i(25,"a",20)(26,"span",17),a(27,"\u{1F464}"),n(),i(28,"span",18),a(29,"Mi Perfil"),n()(),i(30,"button",21),q("click",function(){H(t);let d=h();return T(d.refrescar())}),i(31,"span",17),a(32,"\u{1F504}"),n(),i(33,"span",18),a(34,"Actualizar"),n()()(),i(35,"div",22)(36,"div",23)(37,"div",24)(38,"div",25)(39,"span",26),a(40,"\u{1F525}"),n()(),i(41,"div",27)(42,"span",28),a(43),n(),i(44,"span",29),a(45,"D\xEDas de Racha"),n()(),i(46,"div",30),b(47,ue,2,0,"span")(48,be,2,0,"span")(49,fe,2,0,"span"),n()()(),i(50,"div",31)(51,"div",24)(52,"div",32)(53,"span",33),a(54,"\u{1F4C5}"),n()(),i(55,"div",27)(56,"span",34),a(57),n(),i(58,"span",29),a(59,"D\xEDas en NutriTrack"),n()(),i(60,"div",35)(61,"span"),a(62,"+1 hoy"),n()()()(),i(63,"div",36)(64,"div",24)(65,"div",37)(66,"span",33),a(67,"\u2696\uFE0F"),n()(),i(68,"div",27)(69,"span",34),a(70),R(71,"number"),n(),i(72,"span",38),a(73,"kg"),n(),i(74,"span",29),a(75,"Peso Actual"),n()(),b(76,he,4,9,"div",39),n()(),i(77,"div",40)(78,"div",24)(79,"div",41)(80,"span",42),a(81,"\u{1F3C6}"),n()(),i(82,"div",27)(83,"span",34),a(84),n(),i(85,"span",29),a(86,"Logros Obtenidos"),n()(),i(87,"div",43),g(88,"div",44),n()()()(),i(89,"div",45)(90,"div",46)(91,"div",47)(92,"div",48)(93,"h2")(94,"span",49),a(95,"\u{1F34E}"),n(),a(96," Nutrici\xF3n de Hoy"),n(),i(97,"a",50),a(98,"Ver detalle \u2192"),n()(),i(99,"div",51)(100,"div",52),F(),i(101,"svg",53),g(102,"circle",54)(103,"circle",55),n(),L(),i(104,"div",56)(105,"span",57),a(106),n(),i(107,"span",58),a(108),n()()(),i(109,"div",59)(110,"div",60)(111,"div",61)(112,"span",62),a(113,"\u{1F969}"),n(),i(114,"span",63),a(115,"Prote\xEDnas"),n()(),i(116,"div",64)(117,"div",65),g(118,"div",66),n()(),i(119,"div",67)(120,"span",68),a(121),n(),i(122,"span",69),a(123),n()()(),i(124,"div",70)(125,"div",61)(126,"span",62),a(127,"\u{1F35E}"),n(),i(128,"span",63),a(129,"Carbohidratos"),n()(),i(130,"div",64)(131,"div",65),g(132,"div",71),n()(),i(133,"div",67)(134,"span",68),a(135),n(),i(136,"span",69),a(137),n()()(),i(138,"div",72)(139,"div",61)(140,"span",62),a(141,"\u{1F951}"),n(),i(142,"span",63),a(143,"Grasas"),n()(),i(144,"div",64)(145,"div",65),g(146,"div",73),n()(),i(147,"div",67)(148,"span",68),a(149),n(),i(150,"span",69),a(151),n()()()()(),i(152,"div",74)(153,"div",75)(154,"span"),a(155,"Comidas de hoy"),n(),i(156,"span",76),a(157),n()(),i(158,"div",77)(159,"div",78),g(160,"div",79),n()()()(),i(161,"div",80)(162,"div",48)(163,"h2")(164,"span",49),a(165,"\u{1F4CA}"),n(),a(166," Progreso Semanal"),n(),i(167,"div",81)(168,"span",82),g(169,"span",83),a(170," Consumido"),n(),i(171,"span",82),g(172,"span",84),a(173," Objetivo"),n()()(),i(174,"div",85),w(175,ve,7,12,"div",86,me),n()()(),i(177,"div",87)(178,"div",88)(179,"div",48)(180,"h2")(181,"span",49),a(182,"\u{1F4AA}"),n(),a(183," Entrenamiento de Hoy"),n(),i(184,"a",89),a(185,"Ver rutina \u2192"),n()(),b(186,Ce,32,10)(187,Me,7,0,"div",90),n(),i(188,"div",91)(189,"div",48)(190,"h2")(191,"span",49),a(192,"\u{1F4C8}"),n(),a(193," Tu Estado F\xEDsico"),n(),i(194,"a",92),a(195,"Ver perfil \u2192"),n()(),i(196,"div",93)(197,"div",94)(198,"div",95),g(199,"div",96)(200,"div",97),n(),i(201,"div",98)(202,"span"),a(203,"Bajo"),n(),i(204,"span"),a(205,"Normal"),n(),i(206,"span"),a(207,"Sobrepeso"),n(),i(208,"span"),a(209,"Obesidad"),n()()(),i(210,"div",99)(211,"span",100),a(212),R(213,"number"),n(),i(214,"span",101),a(215),n()()(),b(216,Pe,7,0,"div",102),n(),i(217,"div",103)(218,"div",48)(219,"h2")(220,"span",49),a(221,"\u{1F3C6}"),n(),a(222," Tus Logros"),n(),i(223,"span",104),a(224),n()(),i(225,"div",105),w(226,Se,12,10,"div",106,ce),n()()()(),b(228,Ee,12,3,"div",107)}if(r&2){let t=h();o(3),C("",t.getSaludo(),", "),o(2),m(t.nombreUsuario()),o(3),m(t.mensajeMotivacional()),o(5),M("",t.getDiaSemana(),", ",t.getFechaFormateada()),o(30),m(t.rachaActual()),o(3),j("active",t.rachaActual()>=7),o(),f(t.rachaActual()>=7?47:t.rachaActual()>=3?48:49),o(10),m(t.diasEnApp()),o(13),m(I(71,51,t.pesoActual(),"1.1-1")),o(6),f(t.cambiosPeso()!==0?76:-1),o(8),M("",t.logrosDesbloqueados(),"/",t.totalLogros()),o(4),u("width",t.logrosDesbloqueados()/t.totalLogros()*100,"%"),o(15),u("stroke-dasharray","326.7")("stroke-dashoffset",326.7-326.7*t.porcentajeCalorias()/100)("stroke",t.getColorProgreso(t.porcentajeCalorias())),o(3),m(t.animatedCalories()),o(2),C("de ",t.caloriasObjetivo()," kcal"),o(10),u("width",t.porcentajeProteinas(),"%"),o(3),C("",t.animatedProtein(),"g"),o(2),C("/ ",t.proteinasObjetivo(),"g"),o(9),u("width",t.porcentajeCarbohidratos(),"%"),o(3),C("",t.animatedCarbs(),"g"),o(2),C("/ ",t.carbohidratosObjetivo(),"g"),o(9),u("width",t.porcentajeGrasas(),"%"),o(3),C("",t.animatedFat(),"g"),o(2),C("/ ",t.grasasObjetivo(),"g"),o(6),M("",t.comidasCompletadas(),"/",t.comidasProgramadas()),o(3),u("width",t.comidasProgramadas()>0?t.comidasCompletadas()/t.comidasProgramadas()*100:0,"%"),o(15),k(t.datosSemana()),o(11),f(t.rutinaActiva()?186:187),o(13),u("width",t.Math.min(100,t.imcActual()/40*100),"%"),o(),u("left",t.Math.min(100,t.imcActual()/40*100),"%"),o(12),m(I(213,54,t.imcActual(),"1.1-1")),o(3),m(t.categoriaIMC()),o(),f(t.mediciones().length>=2?216:-1),o(8),M("",t.logrosDesbloqueados()," de ",t.totalLogros()),o(2),k(t.logros()),o(2),f(t.planActivo()?228:-1)}}var se=class r{Math=Math;perfilService=y(ae);metasService=y(re);dashboardService=y(N);notificationService=y(oe);isLoading=l(!0);hasError=l(!1);errorMessage=l("");perfil=l(null);mediciones=l([]);planActivo=l(null);rutinaActiva=l(null);progresoHoy=l(null);ejerciciosHoy=l(null);progresoPlan=l(null);progresoSemanalComidas=l(null);progresoSemanalEjercicios=l(null);logros=l([]);showWelcome=l(!0);animatedCalories=l(0);animatedProtein=l(0);animatedCarbs=l(0);animatedFat=l(0);subscriptions=[];nombreUsuario=c(()=>{let e=this.perfil();return e?.nombre?e.nombre:e?.nombreCompleto?e.nombreCompleto.split(" ")[0]:"Usuario"});saludoDelDia=c(()=>{let e=new Date().getHours();return e<12?"\xA1Buenos d\xEDas":e<18?"\xA1Buenas tardes":"\xA1Buenas noches"});getSaludo(){let e=new Date().getHours();return e<12?"\xA1Buenos d\xEDas":e<18?"\xA1Buenas tardes":"\xA1Buenas noches"}mensajeMotivacional=c(()=>{let e=["\xA1Cada d\xEDa es una nueva oportunidad para ser mejor! \u{1F4AA}","\xA1Tu dedicaci\xF3n te llevar\xE1 lejos! \u{1F31F}","\xA1Sigue as\xED, vas por buen camino! \u{1F3AF}","\xA1Los peque\xF1os pasos llevan a grandes logros! \u{1F3C6}","\xA1Tu cuerpo te agradecer\xE1 el esfuerzo! \u{1F49A}","\xA1La consistencia es la clave del \xE9xito! \u{1F511}","\xA1Hoy es un gran d\xEDa para superarte! \u{1F680}"];return e[Math.floor(Math.random()*e.length)]});diasEnApp=c(()=>{let e=this.perfil();if(!e?.fechaInicioApp)return 0;let t=new Date(e.fechaInicioApp);return Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60*24))+1});rachaActual=c(()=>{let e=this.progresoPlan();return e?.rachaActual?e.rachaActual:this.dashboardService.calcularRacha({planActivo:this.planActivo(),rutinaActiva:this.rutinaActiva(),progresoPlan:this.progresoPlan()})});rachaMejor=c(()=>this.progresoPlan()?.rachaMejor||this.rachaActual());pesoActual=c(()=>this.perfil()?.ultimaMedicion?.peso||0);pesoInicial=c(()=>{let e=this.mediciones();return e.length===0?this.pesoActual():e[e.length-1]?.peso||this.pesoActual()});cambiosPeso=c(()=>this.pesoActual()-this.pesoInicial());imcActual=c(()=>this.perfil()?.ultimaMedicion?.imc||0);categoriaIMC=c(()=>this.perfil()?.ultimaMedicion?.categoriaIMC||"Sin datos");caloriasConsumidas=c(()=>this.progresoHoy()?.caloriasConsumidas||0);caloriasObjetivo=c(()=>this.progresoHoy()?.caloriasObjetivo||2e3);porcentajeCalorias=c(()=>{let e=this.caloriasObjetivo();return e<=0?0:Math.min(100,this.caloriasConsumidas()/e*100)});proteinasConsumidas=c(()=>this.progresoHoy()?.proteinasConsumidas||0);proteinasObjetivo=c(()=>this.progresoHoy()?.proteinasObjetivo||120);porcentajeProteinas=c(()=>{let e=this.proteinasObjetivo();return e<=0?0:Math.min(100,this.proteinasConsumidas()/e*100)});carbohidratosConsumidos=c(()=>this.progresoHoy()?.carbohidratosConsumidos||0);carbohidratosObjetivo=c(()=>this.progresoHoy()?.carbohidratosObjetivo||250);porcentajeCarbohidratos=c(()=>{let e=this.carbohidratosObjetivo();return e<=0?0:Math.min(100,this.carbohidratosConsumidos()/e*100)});grasasConsumidas=c(()=>this.progresoHoy()?.grasasConsumidas||0);grasasObjetivo=c(()=>this.progresoHoy()?.grasasObjetivo||65);porcentajeGrasas=c(()=>{let e=this.grasasObjetivo();return e<=0?0:Math.min(100,this.grasasConsumidas()/e*100)});ejerciciosCompletados=c(()=>{let e=this.ejerciciosHoy();return e?.ejercicios?e.ejercicios.filter(t=>t.registrado).length:0});ejerciciosProgramados=c(()=>this.ejerciciosHoy()?.ejercicios?.length||0);porcentajeEjercicios=c(()=>{let e=this.ejerciciosProgramados();return e<=0?0:Math.min(100,this.ejerciciosCompletados()/e*100)});caloriasQuemadas=c(()=>{let e=this.progresoSemanalEjercicios();if(e?.caloriasQuemadasTotal&&e?.diasSemana){let t=new Date().toISOString().split("T")[0],s=e.diasSemana.find(d=>d.fecha===t);if(s)return s.caloriasQuemadas||0}return e?.caloriasQuemadasTotal||0});comidasCompletadas=c(()=>{let e=this.progresoHoy();return e?.comidas?e.comidas.filter(t=>t.registrada).length:0});comidasProgramadas=c(()=>this.progresoHoy()?.comidas?.length||0);logrosDesbloqueados=c(()=>this.logros().filter(e=>e.desbloqueado).length);totalLogros=c(()=>this.logros().length);datosSemana=c(()=>{let e=this.progresoSemanalComidas();return e?.diasSemana?e.diasSemana.map(t=>({dia:t.nombreDia.substring(0,3),calorias:t.caloriasConsumidas,objetivo:t.caloriasObjetivo,completado:t.diaCompleto})):this.generarDatosSemanaVacios()});ngOnInit(){this.cargarDashboard(),setTimeout(()=>{this.showWelcome.set(!1)},5e3)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}cargarDashboard(){this.isLoading.set(!0),this.hasError.set(!1),this.dashboardService.cargarDashboardCompleto().subscribe({next:e=>{this.perfil.set(e.perfil),this.mediciones.set(e.mediciones),this.planActivo.set(e.planActivo),this.rutinaActiva.set(e.rutinaActiva),this.progresoHoy.set(e.progresoHoy),this.progresoPlan.set(e.progresoPlan),this.ejerciciosHoy.set(e.ejerciciosHoy),this.progresoSemanalComidas.set(e.progresoSemanalComidas),this.progresoSemanalEjercicios.set(e.progresoSemanalEjercicios),this.logros.set(this.dashboardService.calcularLogros(e)),this.animarNumeros(),this.isLoading.set(!1)},error:e=>{console.error("Error cargando dashboard:",e),this.hasError.set(!0),this.errorMessage.set("No se pudo cargar el dashboard. Por favor, intenta de nuevo."),this.isLoading.set(!1)}})}animarNumeros(){let d=this.caloriasConsumidas(),p=this.proteinasConsumidas(),D=this.carbohidratosConsumidos(),S=this.grasasConsumidas(),_=0,O=J(1e3/60).subscribe(()=>{_++;let P=this.easeOutQuad(_/90);this.animatedCalories.set(Math.round(d*P)),this.animatedProtein.set(Math.round(p*P)),this.animatedCarbs.set(Math.round(D*P)),this.animatedFat.set(Math.round(S*P)),_>=90&&(this.animatedCalories.set(d),this.animatedProtein.set(p),this.animatedCarbs.set(D),this.animatedFat.set(S),O.unsubscribe())});this.subscriptions.push(O)}easeOutQuad(e){return e*(2-e)}generarDatosSemanaVacios(){return["Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b","Dom"].map(t=>({dia:t,calorias:0,objetivo:this.caloriasObjetivo(),completado:!1}))}refrescar(){this.cargarDashboard(),this.notificationService.info("Dashboard actualizado","Los datos se han actualizado correctamente")}getColorProgreso(e){return e>=100?"#10B981":e>=75?"#3B82F6":e>=50?"#F59E0B":"#EF4444"}getBgColorProgreso(e){return e>=100?"rgba(16, 185, 129, 0.1)":e>=75?"rgba(59, 130, 246, 0.1)":e>=50?"rgba(245, 158, 11, 0.1)":"rgba(239, 68, 68, 0.1)"}formatNumber(e){return new Intl.NumberFormat("es-ES").format(Math.round(e))}getObjetivoIcon(e){return{PERDER_PESO:"\u2696\uFE0F",GANAR_MASA_MUSCULAR:"\u{1F4AA}",MANTENER_FORMA:"\u{1F3AF}",REHABILITACION:"\u{1F3E5}",CONTROLAR_ESTRES:"\u{1F9D8}"}[e]||"\u{1F3AF}"}getObjetivoLabel(e){return{PERDER_PESO:"Perder Peso",GANAR_MASA_MUSCULAR:"Ganar Masa Muscular",MANTENER_FORMA:"Mantener Forma",REHABILITACION:"Rehabilitaci\xF3n",CONTROLAR_ESTRES:"Controlar Estr\xE9s"}[e]||e}getDiaSemana(){return["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"][new Date().getDay()]}getFechaFormateada(){return new Date().toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"})}calcularAlturaBarra(e,t){return t<=0?0:Math.min(100,e/t*100)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=K({type:r,selectors:[["app-dashboard-main"]],decls:4,vars:3,consts:[[1,"dashboard-container"],[1,"loading-screen"],[1,"error-screen"],[1,"loading-content"],[1,"loading-spinner"],[1,"spinner-ring"],[1,"error-content"],[1,"error-icon"],[1,"btn-primary",3,"click"],[1,"page-header","animate-fade-in"],[1,"header-greeting"],[1,"user-name"],[1,"header-subtitle"],[1,"header-date"],[1,"date-icon"],[1,"quick-actions","animate-fade-in-up"],["routerLink","/comidas",1,"quick-action-btn","nutrition"],[1,"action-icon"],[1,"action-text"],["routerLink","/ejercicios",1,"quick-action-btn","exercise"],["routerLink","/perfil",1,"quick-action-btn","measure"],[1,"quick-action-btn","refresh",3,"click"],[1,"stats-overview"],[1,"stat-card","racha","animate-pop-in",2,"--delay","0.1s"],[1,"stat-card-inner"],[1,"stat-icon-wrapper","fire"],[1,"stat-icon","pulse"],[1,"stat-info"],[1,"stat-value","counter"],[1,"stat-label"],[1,"stat-badge"],[1,"stat-card","days","animate-pop-in",2,"--delay","0.2s"],[1,"stat-icon-wrapper","calendar"],[1,"stat-icon"],[1,"stat-value"],[1,"stat-trend","positive"],[1,"stat-card","weight","animate-pop-in",2,"--delay","0.3s"],[1,"stat-icon-wrapper","scale"],[1,"stat-unit"],[1,"stat-trend",3,"positive","negative"],[1,"stat-card","achievements","animate-pop-in",2,"--delay","0.4s"],[1,"stat-icon-wrapper","trophy"],[1,"stat-icon","bounce"],[1,"stat-progress-mini"],[1,"progress-bar-mini"],[1,"dashboard-grid"],[1,"dashboard-column","left"],[1,"dashboard-card","nutrition-card","animate-slide-up",2,"--delay","0.2s"],[1,"card-header"],[1,"header-icon"],["routerLink","/comidas",1,"card-link"],[1,"nutrition-overview"],[1,"calories-circle-container"],["viewBox","0 0 120 120",1,"calories-circle"],["cx","60","cy","60","r","52",1,"circle-bg"],["cx","60","cy","60","r","52",1,"circle-progress"],[1,"calories-info"],[1,"calories-value"],[1,"calories-label"],[1,"macros-grid"],[1,"macro-item","protein"],[1,"macro-header"],[1,"macro-icon"],[1,"macro-name"],[1,"macro-progress"],[1,"progress-bar"],[1,"progress-fill","protein"],[1,"macro-values"],[1,"macro-current"],[1,"macro-target"],[1,"macro-item","carbs"],[1,"progress-fill","carbs"],[1,"macro-item","fats"],[1,"progress-fill","fats"],[1,"meals-summary"],[1,"meals-header"],[1,"meals-count"],[1,"meals-progress"],[1,"progress-bar","large"],[1,"progress-fill","meals"],[1,"dashboard-card","chart-card","animate-slide-up",2,"--delay","0.3s"],[1,"chart-legend"],[1,"legend-item"],[1,"legend-dot","consumed"],[1,"legend-dot","target"],[1,"weekly-chart"],[1,"chart-bar-container"],[1,"dashboard-column","right"],[1,"dashboard-card","exercise-card","animate-slide-up",2,"--delay","0.25s"],["routerLink","/ejercicios",1,"card-link"],[1,"no-routine"],[1,"dashboard-card","imc-card","animate-slide-up",2,"--delay","0.35s"],["routerLink","/perfil",1,"card-link"],[1,"imc-display"],[1,"imc-gauge"],[1,"gauge-track"],[1,"gauge-fill"],[1,"gauge-marker"],[1,"gauge-labels"],[1,"imc-value-display"],[1,"imc-number"],[1,"imc-category"],[1,"weight-trend"],[1,"dashboard-card","achievements-card","animate-slide-up",2,"--delay","0.4s"],[1,"achievements-count"],[1,"achievements-grid"],[1,"achievement-item",3,"unlocked","locked"],[1,"plan-footer","animate-fade-in-up",2,"--delay","0.5s"],[1,"stat-trend"],[1,"chart-bars"],[1,"chart-bar","target",3,"title"],[1,"chart-bar","consumed",3,"title"],[1,"chart-label"],[1,"chart-check"],[1,"exercise-progress"],[1,"exercise-circle-container"],["viewBox","0 0 100 100",1,"exercise-circle"],["cx","50","cy","50","r","42",1,"circle-bg"],["cx","50","cy","50","r","42",1,"circle-progress","exercise"],[1,"exercise-info"],[1,"exercise-value"],[1,"exercise-label"],[1,"exercise-stats"],[1,"exercise-stat"],[1,"stat-detail"],[1,"stat-number"],[1,"stat-text"],[1,"routine-info"],[1,"routine-name"],[1,"routine-week"],[1,"no-routine-icon"],["routerLink","/metas/rutinas",1,"btn-outline"],[1,"trend-header"],[1,"mini-chart"],[1,"mini-bar",3,"height","title"],[1,"mini-bar",3,"title"],[1,"achievement-item"],[1,"achievement-icon"],[1,"lock-overlay"],[1,"achievement-info"],[1,"achievement-name"],[1,"achievement-desc"],[1,"achievement-progress"],[1,"achievement-check"],[1,"progress-bar","mini"],[1,"progress-fill"],[1,"progress-text"],[1,"plan-info"],[1,"plan-icon"],[1,"plan-details"],[1,"plan-name"],[1,"plan-progress"],[1,"plan-actions"],["routerLink","/metas/mis-asignaciones",1,"btn-plan"]],template:function(t,s){t&1&&(i(0,"div",0),b(1,pe,10,0,"div",1),b(2,ge,12,1,"div",2),b(3,je,229,57),n()),t&2&&(o(),f(s.isLoading()?1:-1),o(),f(s.hasError()&&!s.isLoading()?2:-1),o(),f(!s.isLoading()&&!s.hasError()?3:-1))},dependencies:[Z,ne,te,X],styles:['[_nghost-%COMP%]{--primary-color: #6366f1;--primary-light: #818cf8;--primary-dark: #4f46e5;--secondary-color: #22c55e;--warning-color: #f59e0b;--danger-color: #ef4444;--info-color: #3b82f6;--bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);--card-bg: rgba(255, 255, 255, .95);--card-shadow: 0 10px 40px rgba(0, 0, 0, .1);--text-primary: #1f2937;--text-secondary: #6b7280;--text-muted: #9ca3af;--border-radius: 16px;--border-radius-sm: 8px;--border-radius-lg: 24px;--transition-fast: .2s ease;--transition-normal: .3s ease;--transition-slow: .5s ease;display:block;min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4e9f2)}.dashboard-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:24px}.loading-screen[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;margin:0 auto 24px}.spinner-ring[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border:4px solid transparent;border-radius:50%;animation:_ngcontent-%COMP%_spin 1.2s ease-in-out infinite}.spinner-ring[_ngcontent-%COMP%]:nth-child(1){border-top-color:var(--primary-color);animation-delay:0s}.spinner-ring[_ngcontent-%COMP%]:nth-child(2){border-right-color:var(--secondary-color);animation-delay:.4s;width:70%;height:70%;top:15%;left:15%}.spinner-ring[_ngcontent-%COMP%]:nth-child(3){border-bottom-color:var(--warning-color);animation-delay:.8s;width:50%;height:50%;top:25%;left:25%}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary);margin-bottom:8px}.loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary)}.error-screen[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:60vh}.error-content[_ngcontent-%COMP%]{text-align:center;padding:48px;background:var(--card-bg);border-radius:var(--border-radius-lg);box-shadow:var(--card-shadow)}.error-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:16px}.error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--danger-color);margin-bottom:8px}.error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:24px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;padding-bottom:20px;border-bottom:1px solid #e2e8f0}.header-greeting[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--text-primary);margin:0 0 8px}.header-greeting[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.header-subtitle[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-secondary);margin:0}.header-date[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 16px;background:linear-gradient(135deg,#f0f4ff,#e8ecf9);border-radius:12px;font-size:.9rem;color:#667eea;font-weight:500;white-space:nowrap}.header-date[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{font-size:1rem}.motivational-banner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:var(--border-radius);padding:16px 24px;margin-bottom:20px;color:#fff;position:relative;overflow:hidden;box-shadow:0 8px 30px #667eea4d;transition:all var(--transition-normal)}.motivational-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-10%;width:200px;height:200px;background:radial-gradient(circle,rgba(255,255,255,.15) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.banner-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;z-index:1;gap:16px}.motivational-message[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;opacity:.95;margin:0}.date-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;background:#ffffff26;border-radius:20px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-size:.85rem;white-space:nowrap}.date-icon[_ngcontent-%COMP%]{font-size:1rem}.motivational-banner.fade-out[_ngcontent-%COMP%]{opacity:.7;transform:scale(.98)}.welcome-banner[_ngcontent-%COMP%]{background:var(--bg-gradient);border-radius:var(--border-radius-lg);padding:32px 40px;margin-bottom:24px;color:#fff;position:relative;overflow:hidden;box-shadow:0 20px 50px #667eea66}.welcome-banner[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;right:-20%;width:400px;height:400px;background:radial-gradient(circle,rgba(255,255,255,.2) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.welcome-banner[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30%;left:10%;width:300px;height:300px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}50%{transform:translateY(-20px) rotate(10deg)}}.welcome-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative;z-index:1}.welcome-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:8px}.welcome-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{background:linear-gradient(90deg,gold,#ffeb3b);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.motivational-message[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9}.welcome-date[_ngcontent-%COMP%]{text-align:right;padding:12px 20px;background:#ffffff26;border-radius:var(--border-radius);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.date-day[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;text-transform:capitalize}.date-full[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.welcome-banner.fade-out[_ngcontent-%COMP%]{opacity:0;transform:translateY(-20px)}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;flex-wrap:wrap}.quick-action-btn[_ngcontent-%COMP%]{flex:1;min-width:150px;display:flex;align-items:center;gap:12px;padding:16px 20px;background:var(--card-bg);border:none;border-radius:var(--border-radius);cursor:pointer;transition:all var(--transition-fast);text-decoration:none;color:var(--text-primary);box-shadow:0 4px 15px #0000000d}.quick-action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 25px #0000001a}.quick-action-btn.nutrition[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#22c55e10,#22c55e20);border-left:4px solid #22c55e}.quick-action-btn.exercise[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#6366f110,#6366f120);border-left:4px solid #6366f1}.quick-action-btn.measure[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f59e0b10,#f59e0b20);border-left:4px solid #f59e0b}.quick-action-btn.refresh[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3b82f610,#3b82f620);border-left:4px solid #3b82f6}.action-icon[_ngcontent-%COMP%]{font-size:1.5rem}.action-text[_ngcontent-%COMP%]{font-weight:500;font-size:.95rem}.stats-overview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--border-radius);padding:24px;box-shadow:var(--card-shadow);transition:all var(--transition-normal);position:relative;overflow:hidden}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px}.stat-card.racha[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f97316,#ef4444)}.stat-card.days[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#3b82f6,#6366f1)}.stat-card.weight[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#22c55e,#10b981)}.stat-card.achievements[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f59e0b,#eab308)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 50px #00000026}.stat-card-inner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.stat-icon-wrapper[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:1.8rem}.stat-icon-wrapper.fire[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff7ed,#ffedd5)}.stat-icon-wrapper.calendar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eff6ff,#dbeafe)}.stat-icon-wrapper.scale[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7)}.stat-icon-wrapper.trophy[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fffbeb,#fef3c7)}.stat-icon.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}.stat-icon.bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{display:block;font-size:2rem;font-weight:700;color:var(--text-primary);line-height:1.2}.stat-unit[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--text-secondary);font-weight:500}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.85rem;color:var(--text-secondary);margin-top:4px}.stat-badge[_ngcontent-%COMP%]{padding:6px 12px;background:#f3f4f6;border-radius:20px;font-size:.8rem;font-weight:500}.stat-badge.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.stat-trend[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.8rem;font-weight:600}.stat-trend.positive[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.stat-trend.negative[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626}.stat-progress-mini[_ngcontent-%COMP%]{width:100%;height:6px;background:#e5e7eb;border-radius:3px;overflow:hidden;margin-top:8px}.progress-bar-mini[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#f59e0b,#eab308);border-radius:3px;transition:width 1s ease-out}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px}.dashboard-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.dashboard-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:var(--border-radius);padding:24px;box-shadow:var(--card-shadow);transition:all var(--transition-normal)}.dashboard-card[_ngcontent-%COMP%]:hover{box-shadow:0 20px 50px #0000001f}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #f0f0f0}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:600;color:var(--text-primary);display:flex;align-items:center;gap:8px}.header-icon[_ngcontent-%COMP%]{font-size:1.3rem}.card-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-size:.9rem;font-weight:500;transition:color var(--transition-fast)}.card-link[_ngcontent-%COMP%]:hover{color:var(--primary-dark)}.nutrition-overview[_ngcontent-%COMP%]{display:flex;gap:32px;align-items:center}.calories-circle-container[_ngcontent-%COMP%]{position:relative;width:140px;height:140px;flex-shrink:0}.calories-circle[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#e5e7eb;stroke-width:10}.circle-progress[_ngcontent-%COMP%]{fill:none;stroke-width:10;stroke-linecap:round;transition:stroke-dashoffset 1s ease-out,stroke .3s ease}.calories-info[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.calories-value[_ngcontent-%COMP%]{display:block;font-size:1.8rem;font-weight:700;color:var(--text-primary)}.calories-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.macros-grid[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:16px}.macro-item[_ngcontent-%COMP%]{padding:12px 16px;background:#f9fafb;border-radius:var(--border-radius-sm);border-left:4px solid}.macro-item.protein[_ngcontent-%COMP%]{border-color:#ef4444}.macro-item.carbs[_ngcontent-%COMP%]{border-color:#f59e0b}.macro-item.fats[_ngcontent-%COMP%]{border-color:#22c55e}.macro-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.macro-icon[_ngcontent-%COMP%]{font-size:1rem}.macro-name[_ngcontent-%COMP%]{font-weight:500;color:var(--text-primary);font-size:.9rem}.macro-progress[_ngcontent-%COMP%]{margin-bottom:6px}.progress-bar[_ngcontent-%COMP%]{height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden}.progress-bar.large[_ngcontent-%COMP%]{height:12px}.progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:4px;transition:width 1s ease-out;max-width:100%}.progress-fill.protein[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#f87171)}.progress-fill.carbs[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#fbbf24)}.progress-fill.fats[_ngcontent-%COMP%]{background:linear-gradient(90deg,#22c55e,#4ade80)}.progress-fill.meals[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6366f1,#818cf8)}.macro-values[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem}.macro-current[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.macro-target[_ngcontent-%COMP%]{color:var(--text-muted)}.meals-summary[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px dashed #e5e7eb}.meals-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;font-size:.9rem}.meals-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:var(--text-secondary)}.meals-count[_ngcontent-%COMP%]{font-weight:600;color:var(--primary-color)}.meals-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:10px}.chart-legend[_ngcontent-%COMP%]{display:flex;gap:16px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.8rem;color:var(--text-secondary)}.legend-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.legend-dot.consumed[_ngcontent-%COMP%]{background:var(--primary-color)}.legend-dot.target[_ngcontent-%COMP%]{background:#e5e7eb}.weekly-chart[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;height:180px;padding:20px 0;gap:8px}.chart-bar-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;gap:8px;position:relative}.chart-bars[_ngcontent-%COMP%]{position:relative;width:100%;height:140px;display:flex;align-items:flex-end;justify-content:center}.chart-bar[_ngcontent-%COMP%]{width:70%;border-radius:6px 6px 0 0;transition:height .8s ease-out;position:absolute;bottom:0}.chart-bar.target[_ngcontent-%COMP%]{background:#e5e7eb;z-index:1}.chart-bar.consumed[_ngcontent-%COMP%]{background:linear-gradient(180deg,#6366f1,#8b5cf6);z-index:2;width:50%}.chart-bar.consumed.exceeded[_ngcontent-%COMP%]{background:linear-gradient(180deg,#ef4444,#f87171)}.chart-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);font-weight:500}.chart-check[_ngcontent-%COMP%]{position:absolute;top:-5px;font-size:.7rem;color:#22c55e;background:#fff;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001a}.exercise-progress[_ngcontent-%COMP%]{display:flex;gap:24px;align-items:center}.exercise-circle-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;flex-shrink:0}.exercise-circle[_ngcontent-%COMP%]{width:100%;height:100%;transform:rotate(-90deg)}.circle-progress.exercise[_ngcontent-%COMP%]{stroke:#6366f1}.exercise-info[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.exercise-value[_ngcontent-%COMP%]{display:block;font-size:1.3rem;font-weight:700;color:var(--text-primary)}.exercise-label[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-secondary)}.exercise-stats[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.exercise-stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#f9fafb;border-radius:var(--border-radius-sm)}.exercise-stat[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.3rem}.stat-detail[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-number[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:var(--text-primary)}.stat-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.routine-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:16px;padding-top:16px;border-top:1px dashed #e5e7eb;font-size:.9rem}.routine-name[_ngcontent-%COMP%]{font-weight:600;color:var(--text-primary)}.routine-week[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:500}.no-routine[_ngcontent-%COMP%]{text-align:center;padding:32px 16px}.no-routine-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:12px;opacity:.5}.no-routine[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:16px}.btn-outline[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;border:2px solid var(--primary-color);color:var(--primary-color);border-radius:var(--border-radius-sm);text-decoration:none;font-weight:500;transition:all var(--transition-fast)}.btn-outline[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:#fff}.imc-display[_ngcontent-%COMP%]{margin-bottom:20px}.imc-gauge[_ngcontent-%COMP%]{margin-bottom:16px}.gauge-track[_ngcontent-%COMP%]{position:relative;height:16px;background:linear-gradient(90deg,#3b82f6,#22c55e,#f59e0b,#ef4444,#991b1b);border-radius:8px;overflow:visible}.gauge-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:transparent}.gauge-marker[_ngcontent-%COMP%]{position:absolute;top:-6px;width:4px;height:28px;background:var(--text-primary);border-radius:2px;transform:translate(-50%);box-shadow:0 2px 8px #0003;transition:left .5s ease-out}.gauge-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:8px;font-size:.7rem;color:var(--text-muted)}.imc-value-display[_ngcontent-%COMP%]{text-align:center;padding:16px;background:#f9fafb;border-radius:var(--border-radius-sm)}.imc-number[_ngcontent-%COMP%]{display:block;font-size:2.5rem;font-weight:700;color:var(--text-primary)}.imc-category[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px}.weight-trend[_ngcontent-%COMP%]{padding-top:16px;border-top:1px dashed #e5e7eb}.trend-header[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin-bottom:12px}.mini-chart[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:8px;height:60px}.mini-bar[_ngcontent-%COMP%]{flex:1;background:linear-gradient(180deg,#22c55e,#4ade80);border-radius:4px 4px 0 0;min-height:8px;transition:height .5s ease-out}.achievements-count[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary)}.achievements-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-height:280px;overflow-y:auto}.achievement-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:var(--border-radius-sm);transition:all var(--transition-fast)}.achievement-item.unlocked[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fef9c3);border:1px solid #fcd34d}.achievement-item.locked[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb}.achievement-icon[_ngcontent-%COMP%]{position:relative;width:44px;height:44px;display:flex;align-items:center;justify-content:center;font-size:1.5rem;background:#fff;border-radius:50%;box-shadow:0 2px 8px #0000001a}.lock-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:.9rem;background:#ffffffe6;border-radius:50%;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.achievement-item.locked[_ngcontent-%COMP%]   .achievement-icon[_ngcontent-%COMP%]{filter:grayscale(80%);opacity:.7}.achievement-info[_ngcontent-%COMP%]{flex:1}.achievement-name[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--text-primary);font-size:.9rem}.achievement-desc[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.achievement-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:6px}.progress-bar.mini[_ngcontent-%COMP%]{flex:1;height:6px}.progress-text[_ngcontent-%COMP%]{font-size:.7rem;color:var(--text-muted);font-weight:500}.achievement-check[_ngcontent-%COMP%]{width:24px;height:24px;background:#22c55e;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700}.plan-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:24px;padding:20px 28px;background:linear-gradient(135deg,#1f2937,#374151);border-radius:var(--border-radius);color:#fff}.plan-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.plan-icon[_ngcontent-%COMP%]{font-size:2rem}.plan-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.plan-name[_ngcontent-%COMP%]{font-weight:600;font-size:1.1rem}.plan-progress[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8}.btn-plan[_ngcontent-%COMP%]{padding:12px 24px;background:#fff;color:var(--text-primary);border-radius:var(--border-radius-sm);text-decoration:none;font-weight:600;transition:all var(--transition-fast)}.btn-plan[_ngcontent-%COMP%]:hover{background:#f3f4f6;transform:translateY(-2px)}.btn-primary[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:var(--primary-color);color:#fff;border:none;border-radius:var(--border-radius-sm);font-weight:600;cursor:pointer;transition:all var(--transition-fast)}.btn-primary[_ngcontent-%COMP%]:hover{background:var(--primary-dark);transform:translateY(-2px)}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .6s ease-out forwards}.animate-slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .6s ease-out forwards}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out forwards}.animate-fade-in-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out forwards;animation-delay:var(--delay, 0s);opacity:0}.animate-pop-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_popIn .5s ease-out forwards;animation-delay:var(--delay, 0s);opacity:0;transform:scale(.9)}.animate-slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out forwards;animation-delay:var(--delay, 0s);opacity:0;transform:translateY(20px)}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(-30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(30px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1200px){.stats-overview[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:16px}.welcome-banner[_ngcontent-%COMP%]{padding:24px}.welcome-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:16px}.welcome-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.welcome-date[_ngcontent-%COMP%]{text-align:center}.quick-actions[_ngcontent-%COMP%]{flex-direction:column}.quick-action-btn[_ngcontent-%COMP%]{min-width:100%}.stats-overview[_ngcontent-%COMP%]{grid-template-columns:1fr}.nutrition-overview[_ngcontent-%COMP%]{flex-direction:column}.exercise-progress[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.plan-footer[_ngcontent-%COMP%]{flex-direction:column;gap:16px;text-align:center}.stat-card-inner[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}@media (max-width: 480px){.weekly-chart[_ngcontent-%COMP%]{height:140px}.chart-bars[_ngcontent-%COMP%]{height:100px}.dashboard-card[_ngcontent-%COMP%]{padding:16px}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}}.achievements-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.achievements-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.achievements-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.achievements-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#a1a1a1}']})};export{se as DashboardMainComponent};
