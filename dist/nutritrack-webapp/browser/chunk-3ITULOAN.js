import{a as c}from"./chunk-6LZ2YNEV.js";import{Dc as o,Ec as l,O as a,R as p,V as R,ka as r}from"./chunk-FVUT7SF7.js";var b=class u{constructor(e){this.http=e}baseUrl=`${c.apiUrl}/rutinas`;_rutinas=r([]);_rutinaActual=r(null);_totalElements=r(0);rutinas=this._rutinas.asReadonly();rutinaActual=this._rutinaActual.asReadonly();totalElements=this._totalElements.asReadonly();obtenerRutinas(e=0,t=20){let i=new o().set("page",e.toString()).set("size",t.toString());return this.http.get(this.baseUrl,{params:i}).pipe(a(s=>{s.success&&s.data&&(this._rutinas.set(s.data.content||[]),this._totalElements.set(s.data.totalElements||0))}))}obtenerRutinasActivas(e=0,t=20){let i=new o().set("page",e.toString()).set("size",t.toString());return this.http.get(`${this.baseUrl}/activas`,{params:i}).pipe(a(s=>{s.success&&s.data&&(this._rutinas.set(s.data.content||[]),this._totalElements.set(s.data.totalElements||0))}))}buscarRutinas(e,t=0,i=20){let s=new o().set("nombre",e).set("page",t.toString()).set("size",i.toString());return this.http.get(`${this.baseUrl}/buscar`,{params:s}).pipe(a(n=>{n.success&&n.data&&(this._rutinas.set(n.data.content||[]),this._totalElements.set(n.data.totalElements||0))}))}obtenerRutinaPorId(e){return this.http.get(`${this.baseUrl}/${e}`).pipe(a(t=>{t.success&&t.data&&this._rutinaActual.set(t.data)}))}crearRutina(e){return this.http.post(this.baseUrl,e)}actualizarRutina(e,t){return this.http.put(`${this.baseUrl}/${e}`,t)}eliminarRutina(e){return this.http.delete(`${this.baseUrl}/${e}`)}agregarEjercicio(e,t){return this.http.post(`${this.baseUrl}/${e}/ejercicios`,t)}obtenerEjerciciosRutina(e){return this.http.get(`${this.baseUrl}/${e}/ejercicios`)}actualizarEjercicio(e,t,i){return this.http.put(`${this.baseUrl}/${e}/ejercicios/${t}`,i)}eliminarEjercicio(e,t){return this.http.delete(`${this.baseUrl}/${e}/ejercicios/${t}`)}limpiarEstado(){this._rutinas.set([]),this._rutinaActual.set(null),this._totalElements.set(0)}static \u0275fac=function(t){return new(t||u)(R(l))};static \u0275prov=p({token:u,factory:u.\u0275fac,providedIn:"root"})};export{b as a};
