import{a as Z}from"./chunk-56B7C5MF.js";import{A as y,z as R}from"./chunk-6AXQUQX5.js";import{c as P,e as d,g as I,h as w,k as D,l as F,m as V,o as A,p as k,q as G,r as j,s as q,t as T,v as z,x as B}from"./chunk-M75YHKAC.js";import{a as L}from"./chunk-F5B3K5RO.js";import"./chunk-6ULEJF3H.js";import{a as M,c as N,d as O}from"./chunk-LBN5CU62.js";import"./chunk-NZVHEJ25.js";import{Bb as S,Db as _,Fb as g,Kc as E,Na as m,Ta as l,Tb as i,Vb as h,_a as x,ca as b,da as C,na as s,nb as p,ob as f,tb as c,ub as t,vb as e,wb as u}from"./chunk-N5FZ7NRP.js";import"./chunk-2VMXMS7J.js";function J(o,a){o&1&&(t(0,"div",6),i(1,"Cargando rutina..."),e())}function K(o,a){if(o&1){let n=S();t(0,"form",8),_("ngSubmit",function(){b(n);let v=g();return C(v.guardar())}),t(1,"div",9)(2,"label"),i(3,"Nombre "),t(4,"span",10),i(5,"*"),e()(),u(6,"input",11),e(),t(7,"div",9)(8,"label"),i(9,"Descripci\xF3n "),t(10,"span",10),i(11,"*"),e()(),u(12,"textarea",12),e(),t(13,"div",13)(14,"div",9)(15,"label"),i(16,"Duraci\xF3n Total (semanas)"),e(),u(17,"input",14),e(),t(18,"div",9)(19,"label"),i(20,"Patr\xF3n Base (semanas)"),e(),u(21,"input",15),e()(),t(22,"div",9)(23,"label"),i(24,"Nivel"),e(),t(25,"select",16)(26,"option",17),i(27,"Principiante"),e(),t(28,"option",18),i(29,"Intermedio"),e(),t(30,"option",19),i(31,"Avanzado"),e()()(),t(32,"div",20)(33,"button",21),i(34,"Cancelar"),e(),t(35,"button",22),i(36),e()()()}if(o&2){let n,r=g();c("formGroup",r.formulario),m(21),c("max",((n=r.formulario.get("duracionSemanas"))==null?null:n.value)||52),m(14),c("disabled",r.formulario.invalid||r.guardando()),m(),h(" ",r.guardando()?"Guardando...":"Guardar Cambios"," ")}}var H=class o{constructor(a,n,r,v,Q){this.fb=a;this.route=n;this.router=r;this.rutinaService=v;this.notificationService=Q}formulario;cargando=s(!0);guardando=s(!1);rutinaId;ngOnInit(){this.rutinaId=Number(this.route.snapshot.paramMap.get("id")),this.cargarRutina()}cargarRutina(){this.rutinaService.obtenerRutinaPorId(this.rutinaId).subscribe({next:a=>{if(a.success&&a.data){let n=a.data;this.formulario=this.fb.group({nombre:[n.nombre,d.required],descripcion:[n.descripcion,d.required],duracionSemanas:[n.duracionSemanas,d.required],patronSemanas:[n.patronSemanas,[d.required,d.min(1)]],nivelDificultad:[n.nivelDificultad,d.required]}),this.cargando.set(!1)}},error:()=>{this.notificationService.showError("Error al cargar rutina"),this.router.navigate(["/admin/rutinas"])}})}guardar(){this.formulario.invalid||(this.guardando.set(!0),this.rutinaService.actualizarRutina(this.rutinaId,this.formulario.value).subscribe({next:a=>{a.success&&(this.notificationService.showSuccess("Rutina actualizada"),this.router.navigate(["/admin/rutinas"]))},error:()=>{this.guardando.set(!1),this.notificationService.showError("Error al actualizar")}}))}static \u0275fac=function(n){return new(n||o)(l(z),l(M),l(N),l(Z),l(L))};static \u0275cmp=x({type:o,selectors:[["app-editar-rutina"]],decls:13,vars:2,consts:[[1,"editar-rutina-container"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],["routerLink","/admin/rutinas",1,"btn-link"],[1,"loading"],[1,"form",3,"formGroup"],[1,"form",3,"ngSubmit","formGroup"],[1,"form-group"],[1,"required"],["type","text","formControlName","nombre"],["formControlName","descripcion","rows","4"],[1,"form-row"],["type","number","formControlName","duracionSemanas","min","1"],["type","number","formControlName","patronSemanas","min","1",3,"max"],["formControlName","nivelDificultad"],["value","PRINCIPIANTE"],["value","INTERMEDIO"],["value","AVANZADO"],[1,"form-actions"],["type","button","routerLink","/admin/rutinas",1,"btn-secondary"],["type","submit",1,"btn-primary",3,"disabled"]],template:function(n,r){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3)(4,"mat-icon"),i(5,"edit"),e(),i(6," Editar Rutina "),e(),t(7,"p",4),i(8,"Modifica los detalles de la rutina de ejercicio"),e()(),t(9,"button",5),i(10,"\u2190 Volver"),e()(),p(11,J,2,0,"div",6),p(12,K,37,4,"form",7),e()),n&2&&(m(11),f(r.cargando()?11:-1),m(),f(!r.cargando()&&r.formulario?12:-1))},dependencies:[E,O,B,D,G,j,P,F,k,I,w,T,q,V,A,y,R],styles:[".editar-rutina-container[_ngcontent-%COMP%]{padding:2rem;max-width:900px;margin:0 auto}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:2rem}h1[_ngcontent-%COMP%]{font-size:2rem;color:#2d3748}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#667eea;font-weight:600;cursor:pointer}.form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#4a5568;margin-bottom:.5rem}.required[_ngcontent-%COMP%]{color:#e53e3e}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e2e8f0;border-radius:8px}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:.75rem 2rem;border:none;border-radius:8px;font-weight:600;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#edf2f7;color:#4a5568}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem}"]})};export{H as EditarRutinaComponent};
